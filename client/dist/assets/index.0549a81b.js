import{r as e,e as t,o as a,a as n,b as l,c as r,d as s,u,f as o,g as c,w as i,h as d,v as m,i as p,j as y,F as f,k as g,t as h,l as x,m as b,n as v,p as _}from"./vendor.4e6900e0.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const s=new URL(e,n);if(self[t].moduleMap[s])return a(self[t].moduleMap[s]);const u=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(u),onerror(){r(new Error(`Failed to import: ${e}`)),l(o)},onload(){a(self[t].moduleMap[s]),l(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");const w="human",T="bank",k="grew",A="melt",D={day:"day",month:"month",year:"year"},M={day:1,month:60,year:360};let C=0,S={};const j={name:"fÜne",logo:"fї",uValue:1e3,isPlaying:!1,doTx:(e,t=!0)=>{let a=Object.assign({from:"",to:"",message:"",value:0,date:(new Date).toISOString(),day:S.currency.elapsedTime},e);var n=S.accounts[a.from],l=S.accounts[a.to];return a.value<=0||!n||!l||n==l||n.role!=T&&n.balance-a.value<0?null:(l.role!=T&&(l.balance+=a.value),n.role!=T&&(n.balance-=a.value,n.balance<10&&(n.balance=0)),a.balanceFrom=n.balance,a.balanceTo=l.balance,S.transactions.push(a),S.transactions.length>1e3&&(S.transactions=S.transactions.slice(S.transactions.length-1e3)),t&&q(),a)},getCurrency:()=>Object.assign({},S.currency),updateCurrency:e=>{const t=j.isPlaying;return t&&j.stop(),Object.assign(S.currency,e),t&&j.play(),Object.assign({},S.currency)},getAccount:e=>S.accounts[e],getAccounts:()=>Object.values(S.accounts),createAccount:e=>{if(e.name=e.name.trim(),!e.name||S.accounts[e.name])return null;let t=S.accounts[e.name]=Object.assign({name:"",balance:0,role:"wallet",date:(new Date).toISOString(),creationDay:S.currency.elapsedTime},e);return q(),t},updateAccount:(e,t)=>{let a=S.accounts[e];return!a||"bank"==a.role||t.name&&e!=t.name?null:(a=Object.assign(a,t),q(),a)},deleteAccount:e=>{let t=S.accounts[e];return t&&t.name!=j.name?(delete S.accounts[e],delete S.stats[e],q(),t):null},getAccountTx:(e,t)=>{if(!S.accounts[e])return null;let a=S.transactions.filter((t=>t.from==e||t.to==e));return t>0&&t<a.length&&(a=a.slice(-t)),a},getAccountStats:(e,t=D.day)=>{if((t=D[t])||(t=D.day),!S.accounts[e])return null;const a=S.stats[e];if(!a)return[];const n=a[t];if(!n)return[];if(S.currency.elapsedTime<M[t])return[n[0],n[0]];let l=(Math.floor(S.currency.elapsedTime/M[t])+1)%100;return l>0&&S.currency.elapsedTime<100*M[t]?n.slice(0,l):n.slice(l).concat(n.slice(0,l))},getState:()=>({currency:S.currency,accounts:S.accounts,transactions:S.transactions,stats:S.stats})},P={date:(new Date).toISOString(),stepTime:10,uPerDay:1,elapsedTime:0,revaluationTime:1,nbMembers:0,monetaryMass:0,mode:A,lastMelt:0,average:0,quantitative:1,expression:"10/100"};j.expressionParser=(e,t)=>parseFloat(e);const O=/!x(\d+)/,F=j.uValue,U=()=>({isStatMonth:S.currency.elapsedTime%M.month==0,isStatYear:S.currency.elapsedTime%M.year==0,statDayIndex:S.currency.elapsedTime%100,statMonthIndex:S.currency.elapsedTime/M.month%100,statYearIndex:S.currency.elapsedTime/M.year%100}),q=()=>{let e=0,t=0;const a=U();Object.values(S.accounts).forEach((n=>{const l=n.name.match(O);let r=1;l&&(r=parseInt(l[1])),n.role==w&&(t+=r),n.role!=T&&(e+=n.balance*r,((e,t,a=null)=>{a||(a=U());let n=S.stats[e.name];n||(n={},n[D.day]=new Array(100).fill(0),n[D.month]=new Array(100).fill(0),n[D.year]=new Array(100).fill(0),S.stats[e.name]=n),n[D.day][a.statDayIndex]=t,a.isStatMonth&&(n[D.month][a.statMonthIndex]=t),a.isStatYear&&(n[D.year][a.statYearIndex]=t)})(n,n.balance,a))})),S.currency.nbMembers=t,S.currency.monetaryMass=e,S.currency.average=t>0?Math.floor(e/t):0,((e=null)=>{e||(e=U());let t=Object.assign({},S.currency),a=S.stats[j.name];a||(a={},a[D.day]=new Array(100).fill(P),a[D.month]=new Array(100).fill(P),a[D.year]=new Array(100).fill(P),S.stats[j.name]=a),a[D.day][e.statDayIndex]=t,e.isStatMonth&&(a[D.month][e.statMonthIndex]=t),e.isStatYear&&(a[D.year][e.statYearIndex]=t)})(a)},L=(e=!0)=>{S.currency.elapsedTime++;let t=0,a=0;const n=S.currency.uPerDay>=0?Math.floor(S.currency.uPerDay):0,l=F*S.currency.revaluationTime*n,r=S.accounts[j.name],s=S.currency.elapsedTime%S.currency.revaluationTime==0;s&&S.currency.nbMembers>0&&(t=j.expressionParser(S.currency.expression,{M:S.currency.monetaryMass/l,N:S.currency.nbMembers,T:S.currency.elapsedTime}),S.currency.mode==k&&(t=1-1/(1+t)),t=Math.max(0,Math.min(1,t)),a=(100*t).toFixed(2)),Object.values(S.accounts).forEach((e=>{if(s&&t>0&&e.balance>9){let n=e.balance*t;n=Math.min(n>l?Math.ceil(n):Math.floor(n),e.balance),n<10&&(n=10),j.doTx({from:e.name,to:r.name,message:"!revaluation%"+a,value:n},!1)}e.role==w&&n>0&&j.doTx({from:r.name,to:e.name,message:"!1Ucreation",value:F*n},!1)})),s&&(S.currency.lastMelt=a,S.currency.quantitative=S.currency.quantitative+1/(1/t-1)),q(),e&&(C=setTimeout(L,1e3*S.currency.stepTime,!0)),j.onDayChange(S.currency.elapsedTime)};j.restoreState=e=>{e&&(e.currency&&(S.currency=Object.assign(P,e.currency)),e.accounts&&(S.accounts=e.accounts),e.transactions&&(S.transactions=e.transactions),e.stats&&(S.stats=e.stats))},j.start=(e,t)=>{j.restoreState(t),e&&(j.expressionParser=e),S.currency||(S.currency=P),S.accounts||(S.accounts={}),S.accounts[j.name]={name:j.name,balance:0,role:T,date:(new Date).toISOString(),creationDay:0},S.transactions||(S.transactions=[]),S.stats||(S.stats={})},j.onDayChange=()=>{},j.reset=()=>{j.stop(),Object.values(S.accounts).forEach((e=>{e.balance=0})),S.transactions=[],S.stats={},S.currency.elapsedTime=0,S.currency.lastMelt=0,S.currency.quantitative=1,q()},j.play=(e=!0)=>{j.isPlaying||(0!=C&&(clearTimeout(C),C=0),j.isPlaying=!0,L(e))},j.stop=()=>{j.isPlaying&&(0!=C&&(clearTimeout(C),C=0),j.isPlaying=!1)};const I=e({name:j.name,isPlaying:!1,currency:{},accounts:[],selectedAccounts:[j.name]}),N=j.uValue;I.isSelected=e=>I.selectedAccounts.indexOf(e.name)>=0,I.select=e=>{if("bank"==e.role)return;let t=I.selectedAccounts.indexOf(e.name);t<0?I.selectedAccounts.push(e.name):I.selectedAccounts.splice(t,1)},I.doTx=e=>{const t=j.doTx({from:e.from,to:e.to,value:Math.floor(e.value*N)});return t&&I.refresh(),t},I.updateCurrency=e=>(I.currency=j.updateCurrency(e),I.currency),I.addAccounts=e=>{e&&(e.forEach((e=>{j.createAccount(e)||j.updateAccount(e.name,e)})),I.refresh())},I.createAccount=e=>{let t=j.createAccount(e);return t&&(I.accounts.push(t),I.refresh()),t},I.updateAccount=(e,t)=>{let a=j.updateAccount(e.name,t);return a&&(a=Object.assign(e,a),I.refresh()),a},I.deleteAccount=e=>{let t=null;return j.deleteAccount(e.name)&&(I.isSelected(e)&&I.select(e),t=e,I.refresh()),t},I.getAccountTx=(e,t)=>j.getAccountTx(e,t),I.getAccountStats=(e,t=statTypes.day)=>j.getAccountStats(e,t),I.onDayChange=()=>{I.refresh()},I.refresh=()=>{I.accounts=j.getAccounts(),I.currency=j.getCurrency()},I.reset=()=>{j.reset(),I.refresh(),I.isPlaying=j.isPlaying},I.play=e=>{j.play(e),I.refresh(),I.isPlaying=j.isPlaying},I.stop=()=>{j.stop(),I.refresh(),I.isPlaying=j.isPlaying},I.getState=()=>{const e=j.getState();return e.selectedAccounts=I.selectedAccounts,e},I.restoreState=e=>{e.selectedAccounts&&(I.selectedAccounts=e.selectedAccounts),j.restoreState(e),I.refresh()},I.currencyWithoutDecimal=e=>Math.floor(e/N),I.currencyDecimal=e=>(e/N).toFixed(2),j.onDayChange=I.onDayChange,j.start(t,{}),I.refresh();const V={expose:[],props:{currency:Object,accounts:Array,selectedAccounts:Array,autoPlay:Boolean},setup(e){const{currency:t,accounts:l,selectedAccounts:r}=e;return a((()=>{t&&I.updateCurrency(t),l&&I.addAccounts(l),r&&r.forEach((e=>{I.select(e)}))})),(e,t)=>n(e.$slots,"default")}},Y="fr"==(navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage).substring(0,2)?"fr":"en",B=e=>({render(){if(Y==e)return this.$slots.default()}}),E=e=>e[Y],X=B("fr"),R=B("en"),$={class:"text-center"},K=s("i",{class:"fa fa-play"},null,-1),z=o(" play"),G=s("i",{class:"fa fa-pause"},null,-1),W=o(" pause"),J=s("i",{class:"fa fa-refresh"},null,-1),Q=o(" reset"),H={expose:[],setup:e=>(e,t)=>(l(),r("div",$,[s("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=e=>u(I).play()),disabled:u(I).isPlaying},[K,z],8,["disabled"]),s("button",{class:"btn btn-secondary mr-5",onClick:t[2]||(t[2]=e=>u(I).stop()),disabled:!u(I).isPlaying},[G,W],8,["disabled"]),s("button",{class:"btn btn-danger ml-5",onClick:t[3]||(t[3]=e=>u(I).reset())},[J,Q])]))},Z={class:"text-center"},ee=o("currency"),te=o("monnaie"),ae={class:"input-group mb-3"},ne={class:"input-group-text w-50"},le=o("Ü revaluation"),re=o("réévaluation de Ü"),se={value:"melt"},ue=o("melting"),oe=o("fonte"),ce={value:"grew"},ie=o("growth"),de=o("croissance"),me={class:"input-group mb-3"},pe={key:0,class:"input-group-text"},ye={key:1,class:"input-group-text"},fe=s("span",{class:"input-group-text"}," ) Ü(t)",-1),ge={class:"input-group mb-3"},he={class:"input-group-text",for:"currencyUPerDay"},xe=o("Ü per day"),be=o("Ü par jour"),ve=s("span",{class:"input-group-text"},"Ü",-1),_e={class:"input-group mb-3"},we={class:"input-group-text",for:"currencyRevaluationTime"},Te=o("revaluation period"),ke=o("réévaluation"),Ae={class:"input-group-text"},De=o("day"),Me={key:0},Ce=o("jour"),Se={key:0},je={class:"input-group mb-3"},Pe={class:"input-group-text",for:"currencyStepTime"},Oe=o("day duration"),Fe=o("durée d'un jour"),Ue={class:"input-group-text"},qe=o("second"),Le={key:0},Ie=o("seconde"),Ne={key:0},Ve={key:0,class:"d-grid gap-2 d-md-flex mb-3"},Ye=o("ündo!"),Be=o("annüler!"),Ee=o("üpdate!"),Xe=o("valïder!"),Re={class:"input-group mb-3 mt-5"},$e={class:"input-group-text",for:"currencyMass"},Ke=o("monetary mass (M)"),ze=o("masse monétaire (M)"),Ge=s("span",{class:"input-group-text"},"Ü",-1),We={class:"input-group mb-3"},Je={class:"input-group-text",for:"currencyNbMembers"},Qe=o("Üman accounts (N)"),He=o("comptes Ümains (N)"),Ze={class:"input-group mb-3"},et={class:"input-group-text",for:"currencyAvg"},tt=o("average"),at=o("moyenne"),nt={class:"input-group-text"},lt=o("Ü / Üman"),rt=o("Ü / Ümain"),st={class:"input-group mb-3"},ut={class:"input-group-text",for:"currencyQuantitative"},ot=o("quantitative value"),ct=o("valeur quantitative"),it={class:"input-group-text"},dt=o("Ü / Ü(0)"),mt=o("Ü / Ü(0)"),pt={class:"input-group mb-3"},yt={class:"input-group-text",for:"currencyLastGrew"},ft=o("last growth"),gt=o("dernière croissance"),ht=s("span",{class:"input-group-text"},"%",-1),xt={class:"input-group mb-3"},bt={class:"input-group-text",for:"currencyLastMelt"},vt=o("last melting"),_t=o("dernière fonte"),wt=s("span",{class:"input-group-text"},"%",-1),Tt={class:"input-group mb-3"},kt={class:"input-group-text",for:"currencyElapsedTime"},At=o("elapsed time (T)"),Dt=o("temps écoulé (T)"),Mt={class:"input-group-text"},Ct=o("day"),St={key:0},jt=o("jour"),Pt={key:0},Ot={expose:[],setup(t){const n=e({expression:"",mode:"melt",uPerDay:1,stepTime:0,revaluationTime:0}),o=c((()=>0==I.currency.lastMelt?0:(1/(1/(I.currency.lastMelt/100)-1)*100).toFixed(2))),f=c((()=>!(!I||!I.currency)&&(I.currency.expression!=n.expression||I.currency.mode!=n.mode||I.currency.uPerDay!=n.uPerDay||I.currency.revaluationTime!=n.revaluationTime||I.currency.stepTime!=n.stepTime)));return a((()=>{Object.assign(n,I.currency)})),(e,t)=>(l(),r("div",null,[s("h4",Z,[s(u(R),null,{default:i((()=>[ee])),_:1}),s(u(X),null,{default:i((()=>[te])),_:1})]),s("form",null,[s("div",ae,[s("label",ne,[s(u(R),null,{default:i((()=>[le])),_:1}),s(u(X),null,{default:i((()=>[re])),_:1})]),d(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(n).mode=e),id:"currencyMode",class:["form-select w-50",{"bg-primary":u(n).mode!=u(I).currency.mode}]},[s("option",se,[s(u(R),null,{default:i((()=>[ue])),_:1}),s(u(X),null,{default:i((()=>[oe])),_:1})]),s("option",ce,[s(u(R),null,{default:i((()=>[ie])),_:1}),s(u(X),null,{default:i((()=>[de])),_:1})])],2),[[m,u(n).mode]])]),s("div",me,["melt"==u(n).mode?(l(),r("span",pe,"Ü(t-1) = ( 1 - ")):(l(),r("span",ye,"Ü(t+1) = ( 1 + ")),d(s("input",{id:"currencyExpression","onUpdate:modelValue":t[2]||(t[2]=e=>u(n).expression=e),type:"text",class:["form-control text-right",{"bg-primary":u(n).expression!=u(I).currency.expression}]},null,2),[[p,u(n).expression]]),fe]),s("div",ge,[s("label",he,[s(u(R),null,{default:i((()=>[xe])),_:1}),s(u(X),null,{default:i((()=>[be])),_:1})]),d(s("input",{id:"currencyUPerDay","onUpdate:modelValue":t[3]||(t[3]=e=>u(n).uPerDay=e),type:"number",min:"0",max:"1000",step:"1",class:["form-control text-right",{"bg-primary":u(n).uPerDay!=u(I).currency.uPerDay}]},null,2),[[p,u(n).uPerDay]]),ve]),s("div",_e,[s("label",we,[s(u(R),null,{default:i((()=>[Te])),_:1}),s(u(X),null,{default:i((()=>[ke])),_:1})]),d(s("input",{id:"currencyRevaluationTime","onUpdate:modelValue":t[4]||(t[4]=e=>u(n).revaluationTime=e),type:"number",min:"1",max:"400",step:"1",class:["form-control text-right",{"bg-primary":u(n).revaluationTime!=u(I).currency.revaluationTime}]},null,2),[[p,u(n).revaluationTime]]),s("span",Ae,[s(u(R),null,{default:i((()=>[De,u(n).revaluationTime>1?(l(),r("span",Me,"s")):y("",!0)])),_:1}),s(u(X),null,{default:i((()=>[Ce,u(n).revaluationTime>1?(l(),r("span",Se,"s")):y("",!0)])),_:1})])]),s("div",je,[s("label",Pe,[s(u(R),null,{default:i((()=>[Oe])),_:1}),s(u(X),null,{default:i((()=>[Fe])),_:1})]),d(s("input",{id:"currencyStepTime","onUpdate:modelValue":t[5]||(t[5]=e=>u(n).stepTime=e),type:"number",min:"1",max:"90000",step:"1",class:["form-control text-right",{"bg-primary":u(n).stepTime!=u(I).currency.stepTime}]},null,2),[[p,u(n).stepTime]]),s("span",Ue,[s(u(R),null,{default:i((()=>[qe,u(n).stepTime>1?(l(),r("span",Le,"s")):y("",!0)])),_:1}),s(u(X),null,{default:i((()=>[Ie,u(n).stepTime>1?(l(),r("span",Ne,"s")):y("",!0)])),_:1})])]),u(f)?(l(),r("div",Ve,[s("button",{type:"button",class:"btn btn-secondary mr-auto",onClick:t[6]||(t[6]=e=>Object.assign(u(n),u(I).currency))},[s(u(R),null,{default:i((()=>[Ye])),_:1}),s(u(X),null,{default:i((()=>[Be])),_:1})]),s("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=e=>(()=>{const{expression:e,mode:t,uPerDay:a,revaluationTime:l,stepTime:r}=n;I.updateCurrency({expression:e,mode:t,uPerDay:a,revaluationTime:l,stepTime:r})})())},[s(u(R),null,{default:i((()=>[Ee])),_:1}),s(u(X),null,{default:i((()=>[Xe])),_:1})])])):y("",!0),s("div",Re,[s("label",$e,[s(u(R),null,{default:i((()=>[Ke])),_:1}),s(u(X),null,{default:i((()=>[ze])),_:1})]),s("input",{id:"currencyMass",value:u(I).currencyWithoutDecimal(u(I).currency.monetaryMass),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),Ge]),s("div",We,[s("label",Je,[s(u(R),null,{default:i((()=>[Qe])),_:1}),s(u(X),null,{default:i((()=>[He])),_:1})]),s("input",{id:"currencyNbMembers",value:u(I).currency.nbMembers,type:"text",class:"form-control text-right",disabled:""},null,8,["value"])]),s("div",Ze,[s("label",et,[s(u(R),null,{default:i((()=>[tt])),_:1}),s(u(X),null,{default:i((()=>[at])),_:1})]),s("input",{id:"currencyAvg",value:u(I).currencyWithoutDecimal(u(I).currency.average),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),s("span",nt,[s(u(R),null,{default:i((()=>[lt])),_:1}),s(u(X),null,{default:i((()=>[rt])),_:1})])]),s("div",st,[s("label",ut,[s(u(R),null,{default:i((()=>[ot])),_:1}),s(u(X),null,{default:i((()=>[ct])),_:1})]),s("input",{id:"currencyQuantitative",value:u(I).currency.quantitative.toFixed(2),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),s("span",it,[s(u(R),null,{default:i((()=>[dt])),_:1}),s(u(X),null,{default:i((()=>[mt])),_:1})])]),s("div",pt,[s("label",yt,[s(u(R),null,{default:i((()=>[ft])),_:1}),s(u(X),null,{default:i((()=>[gt])),_:1})]),s("input",{id:"currencyLastGrew",value:u(o),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),ht]),s("div",xt,[s("label",bt,[s(u(R),null,{default:i((()=>[vt])),_:1}),s(u(X),null,{default:i((()=>[_t])),_:1})]),s("input",{id:"currencyLastMelt",value:u(I).currency.lastMelt,type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),wt]),s("div",Tt,[s("label",kt,[s(u(R),null,{default:i((()=>[At])),_:1}),s(u(X),null,{default:i((()=>[Dt])),_:1})]),d(s("input",{id:"currencyElapsedTime","onUpdate:modelValue":t[8]||(t[8]=e=>u(I).currency.elapsedTime=e),type:"text",class:"form-control text-right",disabled:""},null,512),[[p,u(I).currency.elapsedTime]]),s("span",Mt,[s(u(R),null,{default:i((()=>[Ct,u(I).currency.elapsedTime>1?(l(),r("span",St,"s")):y("",!0)])),_:1}),s(u(X),null,{default:i((()=>[jt,u(I).currency.elapsedTime>1?(l(),r("span",Pt,"s")):y("",!0)])),_:1})])])])]))}},Ft={class:"text-center"},Ut=o("transaction"),qt=o("transaction"),Lt={class:"input-group"},It=s("span",{class:"input-group-text"},[s("small",null,"Ü")],-1),Nt={class:"input-group-text",for:"txFrom"},Vt=o(" fröm "),Yt=o(" de "),Bt={class:"input-group-text",for:"txTo"},Et=o(" tö "),Xt=o(" à "),Rt=s("option",{disabled:"",value:""},"select öne",-1),$t=s("option",{disabled:"",value:""},"qüi",-1),Kt={expose:[],setup(t){const a=e({from:"fÜne",to:"",value:1}),n=c((()=>I.accounts)),o=c((()=>I.accounts));return(e,t)=>(l(),r("div",null,[s("h4",Ft,[s(u(R),null,{default:i((()=>[Ut])),_:1}),s(u(X),null,{default:i((()=>[qt])),_:1})]),s("form",null,[s("div",Lt,[d(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(a).value=e),type:"number",step:"any",class:"form-control text-right"},null,512),[[p,u(a).value]]),It,s("label",Nt,[s(u(R),null,{default:i((()=>[Vt])),_:1}),s(u(X),null,{default:i((()=>[Yt])),_:1})]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u(a).from=e),id:"txFrom",class:"form-select"},[(l(!0),r(f,null,g(u(n),(e=>(l(),r("option",{value:e.name,key:e.name},h(e.name),9,["value"])))),128))],512),[[m,u(a).from]]),s("label",Bt,[s(u(R),null,{default:i((()=>[Et])),_:1}),s(u(X),null,{default:i((()=>[Xt])),_:1})]),d(s("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>u(a).to=e),id:"txTo",class:"form-select"},[s(u(R),null,{default:i((()=>[Rt])),_:1}),s(u(X),null,{default:i((()=>[$t])),_:1}),(l(!0),r(f,null,g(u(o),(e=>(l(),r("option",{value:e.name,key:e.name},h(e.name),9,["value"])))),128))],512),[[m,u(a).to]]),s("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=e=>u(I).doTx(u(a)))},"ök!")])])]))}};function zt(e){return parseInt(e,10)}function Gt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Wt(e,t,a){var n=e.x-t.x,l=e.y-t.y,r=Math.sqrt(n*n+l*l),s=n/r,u=l/r;return{x:t.x+s*a,y:t.y+u*a}}function Jt(e,t){var a=e.shift();return"M"+a.x+" "+a.y+e.map((function(n,l){var r,s,u,o=e[l+1],c=e[l-1]||a,i=o&&(s=n,u=c,zt((r=o).x+u.x)===zt(2*s.x)&&zt(r.y+u.y)===zt(2*s.y));if(!o||i)return"L"+n.x+" "+n.y;var d=Math.min(Gt(c,n),Gt(o,n)),m=d/2<t?d/2:t,p=Wt(c,n,m),y=Wt(o,n,m);return"L"+p.x+" "+p.y+"S"+n.x+" "+n.y+" "+y.x+" "+y.y})).join("")}var Qt={props:["smooth","data","boundary","radius","id","max","min","color","width","dash"],render:function(){var e,t=this,a=t.data,n=t.smooth,l=t.boundary,r=t.radius,s=t.id,u=t.max,o=t.min,c=t.width,i=t.dash,d=Jt(function(e,t,a){var n=t.minX,l=t.minY,r=t.maxX,s=t.maxY,u=a.max,o=a.min,c=e.map((function(e){return"number"==typeof e?e:e.value})),i=Math.min.apply(Math,c.concat([o]))-.001,d=(r-n)/(c.length-1),m=(s-l)/(Math.max.apply(Math,c.concat([u]))+.001-i);return c.map((function(e,t){return{x:t*d+n,y:s-(e-i)*m+1e-5*+(t===c.length-1)-1e-5*+(0===t)}}))}(a,l,{max:u,min:o}),n?r:0);return e=this.color?this.color:"url(#"+s+")",x("path",{d:d,fill:"none",stroke:e,"stroke-width":c,"stroke-dasharray":i})}},Ht={props:["boundary","max","min"],render:function(){var e=this.boundary;return[x("text",{x:e.minX,y:e.minY-2,fill:"#CCCCCC88","font-size":"0.6em"},Math.floor(this.max/1e3)),x("line",{x1:e.minX,y1:e.minY,x2:e.maxX,y2:e.minY,stroke:"#CCCCCC88"}),x("text",{x:e.minX,y:e.maxY-2,fill:"#CCCCCC88","font-size":"0.6em"},Math.floor(this.min/1e3)),x("line",{x1:e.minX,y1:e.maxY,x2:e.maxX,y2:e.maxY,stroke:"#CCCCCC88"})]}},Zt={props:["gradient","gradientDirection","id"],render:function(){var e=this,t=e.gradient,a=e.gradientDirection,n=e.id,l=t.length-1||1,r=t.slice().reverse().map((function(e,t){return x("stop",{offset:t/l,"stop-color":e})}));return x("defs",[x("linearGradient",{id:n,x1:+("left"===a),y1:+("top"===a),x2:+("right"===a),y2:+("bottom"===a)},r)])}},ea={name:"Trend",props:{data:{type:Array,required:!0},autoDraw:Boolean,autoDrawDuration:{type:Number,default:2e3},autoDrawEasing:{type:String,default:"ease"},gradient:{type:Array,default:function(){return["#000"]}},gradientDirection:{type:String,default:"top"},max:{type:Number,default:-1/0},min:{type:Number,default:1/0},height:Number,width:Number,padding:{type:Number,default:8},radius:{type:Number,default:10},smooth:Boolean},watch:{data:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){if(!t.$isServer&&t.$refs.path&&t.autoDraw){var e=t.$refs.path.$el,a=e.getTotalLength();e.style.transition="none",e.style.strokeDasharray=a+" "+a,e.style.strokeDashoffset=Math.abs(a-(t.lastLength||0)),e.getBoundingClientRect(),e.style.transition="stroke-dashoffset "+t.autoDrawDuration+"ms "+t.autoDrawEasing,e.style.strokeDashoffset=0,t.lastLength=a}}))}}},render:function(){if(this.data&&!(this.data.length<2)){var e=this.width,t=this.height,a=this.padding,n=e||300,l=t||75,r={minX:a,minY:a,maxX:n-a,maxY:l-a};return x("svg",{width:e||"100%",height:t||"25%",viewBox:"0 0 "+n+" "+l},[x(Zt,{gradient:this.gradient,gradientDirection:this.gradientDirection,id:"stats"}),x(Ht,{boundary:r,max:Math.max.apply(Math,this.data.concat([this.max])),min:Math.min.apply(Math,this.data.concat([this.min]))}),x(Qt,{smooth:this.smooth,data:this.data,boundary:r,radius:this.radius,max:this.max,min:this.min,id:"stats",ref:"path",width:1,dash:"0"})])}}},ta={name:"Trends",props:{data:{type:Array,required:!0},colors:{type:Array,required:!0},min:{type:Number,default:1/0},height:Number,width:Number,padding:{type:Number,default:8},radius:{type:Number,default:10},smooth:Boolean},render:function(){if(this.data){var e=this.width,t=this.height,a=this.padding,n=e||300,l=t||150,r={minX:a,minY:a,maxX:n-a,maxY:l-a},s=10;for(let e=0;e<this.data.length;e++){const t=this.data[e];if(t&&t.length>1)for(let e=0;e<t.length;e++)s=Math.max(s,t[e])}var u=[];for(let e=0;e<this.data.length;e++){const t=this.data[e];t&&t.length>1&&u.push(x(Qt,{smooth:this.smooth,data:t,boundary:r,radius:this.radius,max:s,min:this.min,id:"stats",ref:"path"+e,color:this.colors[e],width:0==e?1.3:1,dash:0==e?"2 2":"0"}))}if(0!=u.length)return x("svg",{width:e||"100%",height:t||"25%",viewBox:"0 0 "+n+" "+l},[x(Ht,{boundary:r,max:s,min:this.min}),u])}}};const aa={style:{width:"400px"}},na={class:"text-center"},la=o("account"),ra=o("compte"),sa={class:"mt-3 mb-3"},ua={class:"text-center mb-6"},oa={class:"dropdown"},ca={class:"btn btn-secondary btn-lg dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},ia={class:"dropdown-menu dropdown-menu-dark dropdown-menu-end","aria-labelledby":"dropdownMenuButton1"},da={key:0},ma={class:"display-3 text-center"},pa={class:"align-baseline",style:{"font-size":"50%"}},ya=s("small",null," Ü",-1),fa={key:0,class:"display-5 text-center"},ga=o("bank"),ha=o("banque"),xa={key:1,class:"display-5 text-center"},ba=o("wallet"),va=o("compte simple"),_a={key:2,class:"display-5 text-center"},wa=o("Üman"),Ta=o("Ümain"),ka={class:"text-center mt-4"},Aa=o("transaction"),Da=o("transaction"),Ma={key:3,class:"mb-4 justify-content-center"},Ca={class:"input-group",style:{width:"400px"}},Sa={class:"input-group-text",for:"txMessage",style:{width:"90px"}},ja=o(" value "),Pa=o(" valeur "),Oa=s("small",{class:"input-group-text"},"Ü",-1),Fa={class:"input-group-text",for:"txTo"},Ua=o(" tö "),qa=o(" à "),La={disabled:"",value:""},Ia=o("someöne"),Na=o("qüi"),Va={class:"input-group"},Ya={class:"input-group-text",for:"txMessage",style:{width:"90px"}},Ba=o("message"),Ea=o("message"),Xa={class:"text-center mt-4"},Ra=o("stats"),$a=o("stats"),Ka={class:"text-center mt-4"},za=o("diary"),Ga=o("journal"),Wa={class:"list-group list-group-flush",style:{"max-width":"440px"}},Ja={class:"d-flex w-100 justify-content-between"},Qa={key:0},Ha={style:{width:"80px"},class:"badge bg-light text-right"},Za=s("small",null," Ü",-1),en={style:{width:"50px"},class:"d-inline-block text-center"},tn=o(" to "),an=o(" à "),nn={key:1},ln={style:{width:"80px"},class:"badge bg-primary text-right"},rn=s("small",null," Ü",-1),sn={style:{width:"50px"},class:"d-inline-block text-center"},un=o(" from "),on=o(" de "),cn={expose:[],setup(t){const a=e({account:null,accounts:c((()=>I.accounts.filter((e=>"bank"!=e.role)))),otherAccounts:c((()=>I.accounts.filter((e=>"bank"!=e.role&&e.name!=a.account.name)))),stats:[],transactions:[],tx:{from:"",to:"",message:"",value:1}}),n=()=>{a.account&&(a.transactions=I.getAccountTx(a.account.name,10).reverse(),a.stats=I.getAccountStats(a.account.name,"day"))};b((()=>a.account),(()=>{n()})),b((()=>I.currency),n,{deep:!0});const x=e=>I.currencyDecimal(e).slice(-2),v=e=>{if("!1Ucreation"==e)return E({en:"> u crëate Ü!",fr:"> crëation de Ü !"});if(0==e.indexOf("!revaluation%")){let t=e.split("%")[1];return E({en:"> all the Ü melt by "+t+"%!",fr:"> tous les Ü fondent de "+t+"% !"})}return e?"> "+e:""};return(e,t)=>{return l(),r("div",aa,[s("h4",na,[s(u(R),null,{default:i((()=>[la])),_:1}),s(u(X),null,{default:i((()=>[ra])),_:1})]),s("div",sa,[s("h2",ua,[s("div",oa,[s("button",ca,h(u(a).account?u(a).account.name:u(E)({en:"account",fr:"compte"})),1),s("ul",ia,[(l(!0),r(f,null,g(u(a).accounts,(e=>(l(),r("li",{value:e.name,key:e.name},[s("button",{class:"dropdown-item",type:"button",onClick:t=>u(a).account=e},h(e.name),9,["onClick"])],8,["value"])))),128))])])]),u(a).account?(l(),r("div",da,[s("div",ma,[s("span",null,h((c=u(a).account.balance,I.currencyDecimal(c).slice(0,-3))),1),s("small",pa,"."+h(x(u(a).account.balance)),1),ya]),"bank"==u(a).account.role?(l(),r("p",fa,[s(u(R),null,{default:i((()=>[ga])),_:1}),s(u(X),null,{default:i((()=>[ha])),_:1})])):"wallet"==u(a).account.role?(l(),r("p",xa,[s(u(R),null,{default:i((()=>[ba])),_:1}),s(u(X),null,{default:i((()=>[va])),_:1})])):(l(),r("p",_a,[s(u(R),null,{default:i((()=>[wa])),_:1}),s(u(X),null,{default:i((()=>[Ta])),_:1})])),s("h4",ka,[s(u(R),null,{default:i((()=>[Aa])),_:1}),s(u(X),null,{default:i((()=>[Da])),_:1})]),"bank"==u(a).account.role||u(a).account.balance>0?(l(),r("form",Ma,[s("div",null,[s("div",Ca,[s("label",Sa,[s(u(R),null,{default:i((()=>[ja])),_:1}),s(u(X),null,{default:i((()=>[Pa])),_:1})]),d(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(a).tx.value=e),type:"number",max:Math.round(u(a).account.balance/100),step:"any",min:"0",class:"form-control text-right"},null,8,["max"]),[[p,u(a).tx.value]]),Oa,s("label",Fa,[s(u(R),null,{default:i((()=>[Ua])),_:1}),s(u(X),null,{default:i((()=>[qa])),_:1})]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u(a).tx.to=e),id:"txTo",class:"form-select"},[s("option",La,[s(u(R),null,{default:i((()=>[Ia])),_:1}),s(u(X),null,{default:i((()=>[Na])),_:1})]),(l(!0),r(f,null,g(u(a).otherAccounts,(e=>(l(),r("option",{value:e.name,key:e.name},[s("strong",null,h(e.name),1)],8,["value"])))),128))],512),[[m,u(a).tx.to]]),s("button",{type:"button",class:"btn btn-primary ml-3",onClick:t[3]||(t[3]=e=>(a.tx.from=a.account.name,console.log(a.tx),I.doTx(a.tx),void n()))},"ök!")]),s("div",Va,[s("label",Ya,[s(u(R),null,{default:i((()=>[Ba])),_:1}),s(u(X),null,{default:i((()=>[Ea])),_:1})]),d(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>u(a).tx.message=e),type:"text",maxlength:"32",class:"form-control",id:"txMessage"},null,512),[[p,u(a).tx.message]])])])])):y("",!0),s("h4",Xa,[s(u(R),null,{default:i((()=>[Ra])),_:1}),s(u(X),null,{default:i((()=>[$a])),_:1})]),s(u(ea),{data:u(a).stats,gradientDirection:"top",gradient:["#df691a","#a54f15","#65300d"],padding:10,radius:8,"stroke-width":1,"stroke-linecap":"butt",min:0,max:1e3,height:200,width:400,"auto-draw":"",smooth:""},null,8,["data"]),s("h4",Ka,[s(u(R),null,{default:i((()=>[za])),_:1}),s(u(X),null,{default:i((()=>[Ga])),_:1})]),s("ul",Wa,[(l(!0),r(f,null,g(u(a).transactions,(e=>{return l(),r("li",{key:e.id,class:"list-group-item list-group-item-action"},[s("div",Ja,[s("div",null,[e.from==u(a).account.name?(l(),r("h5",Qa,[s("span",Ha,[o(h(u(I).currencyDecimal(e.value)),1),Za]),s("span",en,[s(u(R),null,{default:i((()=>[tn])),_:1}),s(u(X),null,{default:i((()=>[an])),_:1})]),s("strong",null,[s("span",null,h(e.to),1)])])):(l(),r("h5",nn,[s("span",ln,[o(h(u(I).currencyDecimal(e.value)),1),rn]),s("span",sn,[s(u(R),null,{default:i((()=>[un])),_:1}),s(u(X),null,{default:i((()=>[on])),_:1})]),s("strong",null,[s("span",null,h(e.from),1)])])),o(" "+h(v(e.message)),1)]),s("small",null,h((t=e.day,t>=I.currency.elapsedTime?E({en:"today",fr:"aujourd'hui"}):t==I.currency.elapsedTime-1?E({en:"yesterday",fr:"hier"}):E({en:I.currency.elapsedTime-t+" days ago",fr:"il y a "+(I.currency.elapsedTime-t)+" jours"}))),1)])]);var t})),128))])])):y("",!0)])]);var c}}},dn={class:"text-center"},mn=o("accounts"),pn=o("comptes"),yn={class:"input-group"},fn={class:"input-group-text"},gn=o("name"),hn=o("nom"),xn={class:"input-group-text ml-5"},bn=o("role"),vn=o("rôle"),_n={value:"human"},wn=o("Üman"),Tn=o("Ümain"),kn={value:"wallet"},An=o("wället"),Dn=o("sïmple"),Mn=o("nëw!"),Cn=o("noüveau!"),Sn={class:"table table-hover mt-5"},jn=o("stats"),Pn=o("stats"),On=o("name"),Fn=o("nom"),Un=o("role"),qn=o("rôle"),Ln=o("balance"),In=o("solde"),Nn=s("th",null,null,-1),Vn={class:"text-center"},Yn={key:0,class:"badge bg-primary mr-3",style:{width:"50px"}},Bn=s("small",null,"Ü",-1),En=o("man"),Xn=s("small",null,"Ü",-1),Rn=o("main"),$n={key:1,class:"badge bg-secondary mr-3",style:{width:"50px"}},Kn=o("wället"),zn=o("sïmple"),Gn={key:2,class:"badge bg-danger mr-3",style:{width:"50px"}},Wn=o("bänk"),Jn=o("bänque"),Qn=o("change"),Hn=o("modifier"),Zn={class:"text-right"},el=s("small",{class:"mr-3"}," Ü ",-1),tl=o("reset"),al=o("raz"),nl={class:"text-right"},ll={expose:[],props:{colors:Array},setup(t){const{colors:a}=t,n=e({onlySelected:!1,sortKey:"name",sortOrder:1,newAccount:{name:"",role:"human"}}),x=c((()=>{let e=I.accounts.filter((e=>"bank"!=e.role));return n.onlySelected&&(e=e.filter((e=>I.isSelected(e)))),e.sort(((e,t)=>{let a=e[n.sortKey],l=t[n.sortKey];return(a===l?0:a>l?1:-1)*n.sortOrder}))})),b=e=>{e==n.sortKey&&(n.sortOrder=-n.sortOrder),n.sortKey=e},_=e=>{let t=I.selectedAccounts.indexOf(e.name);return t<0?null:a[t%a.length]};return(e,t)=>(l(),r("div",null,[s("h4",dn,[s(u(R),null,{default:i((()=>[mn])),_:1}),s(u(X),null,{default:i((()=>[pn])),_:1})]),s("div",yn,[s("span",fn,[s(u(R),null,{default:i((()=>[gn])),_:1}),s(u(X),null,{default:i((()=>[hn])),_:1})]),d(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(n).newAccount.name=e),type:"text",class:"form-control",id:"accountName",maxlength:"10"},null,512),[[p,u(n).newAccount.name]]),s("span",xn,[s(u(R),null,{default:i((()=>[bn])),_:1}),s(u(X),null,{default:i((()=>[vn])),_:1})]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u(n).newAccount.role=e),class:"form-control"},[s("option",_n,[s(u(R),null,{default:i((()=>[wn])),_:1}),s(u(X),null,{default:i((()=>[Tn])),_:1})]),s("option",kn,[s(u(R),null,{default:i((()=>[An])),_:1}),s(u(X),null,{default:i((()=>[Dn])),_:1})])],512),[[m,u(n).newAccount.role]]),s("button",{type:"button",disabled:3>u(n).newAccount.name.length||u(I).accounts.some((e=>e.name==u(n).newAccount.name)),class:"btn btn-primary ml-5",onClick:t[3]||(t[3]=e=>(n.newAccount.name=n.newAccount.name.trim(),void I.createAccount(n.newAccount)))},[s(u(R),null,{default:i((()=>[Mn])),_:1}),s(u(X),null,{default:i((()=>[Cn])),_:1})],8,["disabled"])]),s("table",Sn,[s("thead",null,[s("tr",null,[s("th",{onClick:t[4]||(t[4]=e=>u(n).onlySelected=!u(n).onlySelected),class:[{"bg-primary":u(n).onlySelected},"pointer"],style:{width:"20px"}},[s(u(R),null,{default:i((()=>[jn])),_:1}),s(u(X),null,{default:i((()=>[Pn])),_:1})],2),s("th",{onClick:t[5]||(t[5]=e=>b("name")),class:"pointer",style:{width:"250px"}},[s(u(R),null,{default:i((()=>[On])),_:1}),s(u(X),null,{default:i((()=>[Fn])),_:1})]),s("th",{onClick:t[6]||(t[6]=e=>b("role")),class:"text-center pointer"},[s(u(R),null,{default:i((()=>[Un])),_:1}),s(u(X),null,{default:i((()=>[qn])),_:1})]),s("th",{onClick:t[7]||(t[7]=e=>b("balance")),class:"text-right pointer"},[s(u(R),null,{default:i((()=>[Ln])),_:1}),s(u(X),null,{default:i((()=>[In])),_:1})]),Nn])]),s("tbody",null,[(l(!0),r(f,null,g(u(x),(e=>(l(),r("tr",{key:e.name},[s("td",{style:{"background-color":_(e)},onClick:t=>u(I).select(e),class:"pointer"},null,12,["onClick"]),s("td",{onClick:t=>u(I).select(e),class:"pointer"},h(e.name),9,["onClick"]),s("td",Vn,["human"==e.role?(l(),r("span",Yn,[s(u(R),null,{default:i((()=>[Bn,En])),_:1}),s(u(X),null,{default:i((()=>[Xn,Rn])),_:1})])):"wallet"==e.role?(l(),r("span",$n,[s(u(R),null,{default:i((()=>[Kn])),_:1}),s(u(X),null,{default:i((()=>[zn])),_:1})])):(l(),r("span",Gn,[s(u(R),null,{default:i((()=>[Wn])),_:1}),s(u(X),null,{default:i((()=>[Jn])),_:1})])),"bank"!=e.role?(l(),r("a",{key:3,href:"#",onClick:v((t=>(e=>{let t="human"==e.role?"wallet":"human";I.updateAccount(e,{role:t})})(e)),["stop","prevent"])},[s(u(R),null,{default:i((()=>[Qn])),_:1}),s(u(X),null,{default:i((()=>[Hn])),_:1})],8,["onClick"])):y("",!0)]),s("td",Zn,["bank"!=e.role?(l(),r(f,{key:0},[s("strong",null,[o(h(u(I).currencyDecimal(e.balance)),1),el]),s("a",{href:"#",onClick:v((t=>(e=>{I.updateAccount(e,{balance:0})})(e)),["stop","prevent"])},[s(u(R),null,{default:i((()=>[tl])),_:1}),s(u(X),null,{default:i((()=>[al])),_:1})],8,["onClick"])],64)):y("",!0)]),s("td",nl,[e.name!=u(I).name?(l(),r("a",{key:0,href:"#",onClick:v((t=>(e=>{const t=e.name;confirm(E({fr:"êtes vous sûr de supprimer "+t+" ?",en:"Are you sure to delete "+t+"?"}))&&I.deleteAccount(e)})(e)),["stop","prevent"])},"x",8,["onClick"])):y("",!0)])])))),128))])])]))}},rl={class:"text-center"},sl=o("stats"),ul=o("stats"),ol={class:"w-100 d-flex justify-content-between"},cl={class:"input-group w-auto ml-4"},il=s("label",{class:"input-group-text"}," 100 ",-1),dl={value:"day"},ml=o("days"),pl=o("jours"),yl={value:"month"},fl=o("months"),gl=o("mois"),hl={value:"year"},xl=o("years"),bl=o("années"),vl={class:"ms-auto w-auto input-group mr-4"},_l={class:"input-group-text"},wl=o("referential"),Tl=o("référentiel"),kl={value:"relative"},Al=o("relative"),Dl=o("relatif"),Ml={value:"quantitative"},Cl=o("quantitative"),Sl=o("quantitatif"),jl={value:"average"},Pl=o("average"),Ol=o("moyenne"),Fl={expose:[],props:{colors:Array},setup(t){const{colors:n}=t,o=e({referential:"relative",statType:"day",stats:[]}),c=()=>{let e=I.getAccountStats(I.name,o.statType),t=[[]];for(let a=1;a<I.selectedAccounts.length;a++){const n=I.selectedAccounts[a];if(n){let a=I.getAccountStats(n,o.statType);if("average"==o.referential)for(let t=0;t<a.length;t++)a[t]=0==e[t].average?0:a[t]/e[t].average*1e5;else if("quantitative"==o.referential)for(let t=0;t<a.length;t++)a[t]=a[t]*e[t].quantitative;t.push(a)}}"average"==o.referential?t[0]=new Array(e.length).fill(1e5):"relative"==o.referential?t[0]=e.map((e=>e.average)):"quantitative"==o.referential&&(t[0]=e.map((e=>e.average*e.quantitative))),o.stats=t};return b((()=>I.selectedAccounts.length),c),b((()=>I.currency),c,{deep:!0}),b((()=>o.referential),c),b((()=>o.statType),c),a((()=>{c()})),(e,t)=>(l(),r("div",null,[s("h4",rl,[s(u(R),null,{default:i((()=>[sl])),_:1}),s(u(X),null,{default:i((()=>[ul])),_:1})]),s(u(ta),{data:u(o).stats,colors:n,padding:10,radius:8,"stroke-width":1,"stroke-linecap":"butt",min:0,"auto-draw":"",smooth:""},null,8,["data"]),s("div",ol,[s("div",cl,[il,d(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(o).statType=e)},[s("option",dl,[s(u(R),null,{default:i((()=>[ml])),_:1}),s(u(X),null,{default:i((()=>[pl])),_:1})]),s("option",yl,[s(u(R),null,{default:i((()=>[fl])),_:1}),s(u(X),null,{default:i((()=>[gl])),_:1})]),s("option",hl,[s(u(R),null,{default:i((()=>[xl])),_:1}),s(u(X),null,{default:i((()=>[bl])),_:1})])],512),[[m,u(o).statType]])]),s("div",vl,[s("label",_l,[s(u(R),null,{default:i((()=>[wl])),_:1}),s(u(X),null,{default:i((()=>[Tl])),_:1})]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u(o).referential=e)},[s("option",kl,[s(u(R),null,{default:i((()=>[Al])),_:1}),s(u(X),null,{default:i((()=>[Dl])),_:1})]),s("option",Ml,[s(u(R),null,{default:i((()=>[Cl])),_:1}),s(u(X),null,{default:i((()=>[Sl])),_:1})]),s("option",jl,[s(u(R),null,{default:i((()=>[Pl])),_:1}),s(u(X),null,{default:i((()=>[Ol])),_:1})])],512),[[m,u(o).referential]])])])]))}},Ul=s("h1",{class:"display-1 text-center mb-5"},[s("img",{src:"/favicon64x64.png"}),s("span",{class:"align-middle"},[o(" f"),s("small",null,"Ü"),o("ne")])],-1),ql={class:"lead text-center mb-3"},Ll=s("strong",null,[o("f"),s("small",null,"Ü"),o("ne")],-1),Il=o(" is a web app to test and play with a simple "),Nl=s("a",{href:"https://libre-currency.org"},"Libre Currency",-1),Vl=o(" called "),Yl=s("strong",null,[o("f"),s("small",null,"Ü"),o("ne")],-1),Bl=o(" (pronounced /fən/ like fun) "),El=s("strong",null,[o("f"),s("small",null,"Ü"),o("ne")],-1),Xl=o(" est une appli web qui permet de jouer avec une simple "),Rl=s("a",{href:"https://monnaie-libre.fr/"},"Monnaie Libre",-1),$l=o(" appelée "),Kl=s("strong",null,[o("f"),s("small",null,"Ü"),o("ne")],-1),zl=o(" (prononcée /fən/ comme fun en anglais) "),Gl={class:"lead text-center mb-5"},Wl=o(" a "),Jl=s("small",null,"Ü",-1),Ql=o("man account create some new "),Hl=s("small",null,"Ü",-1),Zl=o(" (the "),er=s("small",null,"Ü",-1),tr=o("nit of the f"),ar=s("small",null,"Ü",-1),nr=o("ne currency) each day"),lr=s("br",null,null,-1),rr=s("small",null,[o("old created "),s("strong",null,[s("small",null,"Ü"),o("nits")]),o(" melt by a given percentage each "),s("strong",null,"revaluation period")],-1),sr=s("br",null,null,-1),ur=o(" un compte "),or=s("small",null,"Ü",-1),cr=o("main crée de nouvelles "),ir=s("small",null,"Ü",-1),dr=o(" (l'"),mr=s("small",null,"Ü",-1),pr=o("nité de la monnaie f"),yr=s("small",null,"Ü",-1),fr=o("ne) chaque jour"),gr=s("br",null,null,-1),hr=s("small",null,[o("les anciennes "),s("strong",null,[s("small",null,"Ü"),o("nités")]),o(" fondent d'un certain pourcentage à chaque "),s("strong",null,"période de réévaluation")],-1),xr=s("br",null,null,-1),br={class:"d-flex align-items-start flex-wrap mb-3",style:{"justify-content":"space-evenly"}},vr={style:{"min-width":"500px"}},_r={style:{"min-width":"700px"}};let wr=JSON.parse(localStorage.getItem("state"));window.location.hash&&(wr||(wr={currency:{}}),Object.assign(wr.currency,(e=>{const t=new URLSearchParams(e);return{mode:"grew"==t.get("m")?"grew":"melt",expression:t.get("e"),uPerDay:parseInt(t.get("upd")),revaluationTime:parseInt(t.get("rt")),stepTime:parseInt(t.get("st"))}})(window.location.hash.substring(1)))),I.restoreState(wr);_({expose:[],setup(e){b((()=>I.currency),(()=>{window.location.hash="#"+(e=>{const t=new URLSearchParams;return t.append("e",e.expression),t.append("m",e.mode),t.append("upd",e.uPerDay),t.append("rt",e.revaluationTime),t.append("st",e.stepTime),t.toString()})(I.currency),localStorage.setItem("state",JSON.stringify(I.getState()))}));const t=["#FFFFFFDD","#FE4365DD","#F9CDADDD","#83AF9BDD","#A7226EDD","#F26B38DD","#F7DB4FDD","#CAFDE0DD","#FFB8EADD","#C3421ADD","#4F6ABFDD"],a=[];return I.accounts.length<=1&&(a.push({name:"Alice",balance:1e4,role:"human"}),a.push({name:"Bob",balance:2e4,role:"human"}),a.push({name:"Carole",balance:0,role:"human"})),(e,n)=>(l(),r("div",null,[Ul,s("p",ql,[s(u(R),null,{default:i((()=>[Ll,Il,Nl,Vl,Yl,Bl])),_:1}),s(u(X),null,{default:i((()=>[El,Xl,Rl,$l,Kl,zl])),_:1})]),s("p",Gl,[s(u(R),null,{default:i((()=>[Wl,Jl,Ql,Hl,Zl,er,tr,ar,nr,lr,rr,sr])),_:1}),s(u(X),null,{default:i((()=>[ur,or,cr,ir,dr,mr,pr,yr,fr,gr,hr,xr])),_:1})]),s(V,{accounts:a,selectedAccounts:a},{default:i((()=>[s(H,{class:"m-auto"}),s("div",br,[s("div",vr,[s(Ot,{style:{width:"400px"}}),s(Kt,{class:"mt-5",style:{width:"400px"}}),s(cn,{class:"mt-5"})]),s("div",_r,[s(Fl,{colors:t,class:"w-auto"}),s(ll,{colors:t,class:"mt-5"})])])])),_:1})]))}}).mount("#app");
