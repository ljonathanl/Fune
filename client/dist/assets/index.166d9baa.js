import{r as e,e as t,o as a,a as n,b as l,c as r,d as s,u,f as o,g as c,w as i,h as d,v as m,i as p,j as y,F as f,k as g,t as h,l as x,m as b,n as v,p as _}from"./vendor.4e6900e0.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const s=new URL(e,n);if(self[t].moduleMap[s])return a(self[t].moduleMap[s]);const u=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(u),onerror(){r(new Error(`Failed to import: ${e}`)),l(o)},onload(){a(self[t].moduleMap[s]),l(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");const w="human",T="bank",k="grew",A="melt",D={day:"day",month:"month",year:"year"},M={day:1,month:60,year:360};let C=0,S={};const P={name:"fÜne",logo:"fї",uValue:1e3,isPlaying:!1,doTx:(e,t=!0)=>{let a=Object.assign({from:"",to:"",message:"",value:0,date:(new Date).toISOString(),day:S.currency.elapsedTime},e);var n=S.accounts[a.from],l=S.accounts[a.to];return a.value<=0||!n||!l||n==l||n.role!=T&&n.balance-a.value<0?null:(l.role!=T&&(l.balance+=a.value),n.role!=T&&(n.balance-=a.value,n.balance<10&&(n.balance=0)),a.balanceFrom=n.balance,a.balanceTo=l.balance,S.transactions.push(a),S.transactions.length>1e3&&(S.transactions=S.transactions.slice(S.transactions.length-1e3)),t&&q(),a)},getCurrency:()=>Object.assign({},S.currency),updateCurrency:e=>{const t=P.isPlaying;return t&&P.stop(),Object.assign(S.currency,e),t&&P.play(),Object.assign({},S.currency)},getAccount:e=>S.accounts[e],getAccounts:()=>Object.values(S.accounts),createAccount:e=>{if(e.name=e.name.trim(),!e.name||S.accounts[e.name])return null;let t=S.accounts[e.name]=Object.assign({name:"",balance:0,role:"wallet",date:(new Date).toISOString(),creationDay:S.currency.elapsedTime},e);return q(),t},updateAccount:(e,t)=>{let a=S.accounts[e];return!a||"bank"==a.role||t.name&&e!=t.name?null:(a=Object.assign(a,t),q(),a)},deleteAccount:e=>{let t=S.accounts[e];return t&&t.name!=P.name?(delete S.accounts[e],delete S.stats[e],q(),t):null},getAccountTx:(e,t)=>{if(!S.accounts[e])return null;let a=S.transactions.filter((t=>t.from==e||t.to==e));return t>0&&t<a.length&&(a=a.slice(-t)),a},getAccountStats:(e,t=D.day)=>{if((t=D[t])||(t=D.day),!S.accounts[e])return null;const a=S.stats[e];if(!a)return[];const n=a[t];if(!n)return[];if(S.currency.elapsedTime<M[t])return[n[0],n[0]];let l=(Math.floor(S.currency.elapsedTime/M[t])+1)%100;return l>0&&S.currency.elapsedTime<100*M[t]?n.slice(0,l):n.slice(l).concat(n.slice(0,l))},getState:()=>({currency:S.currency,accounts:S.accounts,transactions:S.transactions,stats:S.stats})},j={date:(new Date).toISOString(),stepTime:10,uPerDay:1,elapsedTime:0,revaluationTime:1,nbMembers:0,monetaryMass:0,mode:A,lastMelt:0,average:0,quantitative:1,expression:"10/100"};P.expressionParser=(e,t)=>parseFloat(e);const O=/!x(\d+)/,F=P.uValue,U=()=>({isStatMonth:S.currency.elapsedTime%M.month==0,isStatYear:S.currency.elapsedTime%M.year==0,statDayIndex:S.currency.elapsedTime%100,statMonthIndex:S.currency.elapsedTime/M.month%100,statYearIndex:S.currency.elapsedTime/M.year%100}),q=()=>{let e=0,t=0;const a=U();Object.values(S.accounts).forEach((n=>{const l=n.name.match(O);let r=1;l&&(r=parseInt(l[1])),n.role==w&&(t+=r),n.role!=T&&(e+=n.balance*r,((e,t,a=null)=>{a||(a=U());let n=S.stats[e.name];n||(n={},n[D.day]=new Array(100).fill(0),n[D.month]=new Array(100).fill(0),n[D.year]=new Array(100).fill(0),S.stats[e.name]=n),n[D.day][a.statDayIndex]=t,a.isStatMonth&&(n[D.month][a.statMonthIndex]=t),a.isStatYear&&(n[D.year][a.statYearIndex]=t)})(n,n.balance,a))})),S.currency.nbMembers=t,S.currency.monetaryMass=e,S.currency.average=t>0?Math.floor(e/t):0,((e=null)=>{e||(e=U());let t=Object.assign({},S.currency),a=S.stats[P.name];a||(a={},a[D.day]=new Array(100).fill(j),a[D.month]=new Array(100).fill(j),a[D.year]=new Array(100).fill(j),S.stats[P.name]=a),a[D.day][e.statDayIndex]=t,e.isStatMonth&&(a[D.month][e.statMonthIndex]=t),e.isStatYear&&(a[D.year][e.statYearIndex]=t)})(a)},L=(e=!0)=>{S.currency.elapsedTime++;let t=0,a=0;const n=S.currency.uPerDay>=0?Math.floor(S.currency.uPerDay):0,l=F*S.currency.revaluationTime*n,r=S.accounts[P.name],s=S.currency.elapsedTime%S.currency.revaluationTime==0;s&&S.currency.nbMembers>0&&(t=P.expressionParser(S.currency.expression,{M:S.currency.monetaryMass/l,N:S.currency.nbMembers,T:S.currency.elapsedTime}),S.currency.mode==k&&(t=1-1/(1+t)),t=Math.max(0,Math.min(1,t)),a=(100*t).toFixed(2)),Object.values(S.accounts).forEach((e=>{if(s&&t>0&&e.balance>9){let n=e.balance*t;n=Math.min(n>l?Math.ceil(n):Math.floor(n),e.balance),n<10&&(n=10),P.doTx({from:e.name,to:r.name,message:"!revaluation%"+a,value:n},!1)}e.role==w&&n>0&&P.doTx({from:r.name,to:e.name,message:"!1Ucreation",value:F*n},!1)})),s&&(S.currency.lastMelt=a,S.currency.quantitative=S.currency.quantitative+1/(1/t-1)),q(),e&&(C=setTimeout(L,1e3*S.currency.stepTime,!0)),P.onDayChange(S.currency.elapsedTime)};P.restoreState=e=>{e&&(e.currency&&(S.currency=Object.assign(j,e.currency)),e.accounts&&(S.accounts=e.accounts),e.transactions&&(S.transactions=e.transactions),e.stats&&(S.stats=e.stats))},P.start=(e,t)=>{P.restoreState(t),e&&(P.expressionParser=e),S.currency||(S.currency=j),S.accounts||(S.accounts={}),S.accounts[P.name]={name:P.name,balance:0,role:T,date:(new Date).toISOString(),creationDay:0},S.transactions||(S.transactions=[]),S.stats||(S.stats={})},P.onDayChange=()=>{},P.reset=()=>{P.stop(),Object.values(S.accounts).forEach((e=>{e.balance=0})),S.transactions=[],S.stats={},S.currency.elapsedTime=0,S.currency.lastMelt=0,S.currency.quantitative=1,q()},P.play=(e=!0)=>{P.isPlaying||(0!=C&&(clearTimeout(C),C=0),P.isPlaying=e,L(e))},P.stop=()=>{P.isPlaying&&(0!=C&&(clearTimeout(C),C=0),P.isPlaying=!1)};const I=e({name:P.name,isPlaying:!1,currency:{},accounts:[],selectedAccounts:[P.name]}),N=P.uValue;I.isSelected=e=>I.selectedAccounts.indexOf(e.name)>=0,I.select=e=>{if("bank"==e.role)return;let t=I.selectedAccounts.indexOf(e.name);t<0?I.selectedAccounts.push(e.name):I.selectedAccounts.splice(t,1)},I.doTx=e=>{const t=P.doTx({from:e.from,to:e.to,value:Math.floor(e.value*N)});return t&&I.refresh(),t},I.updateCurrency=e=>(I.currency=P.updateCurrency(e),I.currency),I.addAccounts=e=>{e&&(e.forEach((e=>{P.createAccount(e)||P.updateAccount(e.name,e)})),I.refresh())},I.createAccount=e=>{let t=P.createAccount(e);return t&&(I.accounts.push(t),I.refresh()),t},I.updateAccount=(e,t)=>{let a=P.updateAccount(e.name,t);return a&&(a=Object.assign(e,a),I.refresh()),a},I.deleteAccount=e=>{let t=null;return P.deleteAccount(e.name)&&(I.isSelected(e)&&I.select(e),t=e,I.refresh()),t},I.getAccountTx=(e,t)=>P.getAccountTx(e,t),I.getAccountStats=(e,t=statTypes.day)=>P.getAccountStats(e,t),I.onDayChange=()=>{I.refresh()},I.refresh=()=>{I.accounts=P.getAccounts(),I.currency=P.getCurrency()},I.reset=()=>{P.reset(),I.refresh(),I.isPlaying=P.isPlaying},I.play=e=>{P.play(e),I.refresh(),I.isPlaying=P.isPlaying},I.stop=()=>{P.stop(),I.refresh(),I.isPlaying=P.isPlaying},I.getState=()=>{const e=P.getState();return e.selectedAccounts=I.selectedAccounts,e},I.restoreState=e=>{e.selectedAccounts&&(I.selectedAccounts=e.selectedAccounts),P.restoreState(e),I.refresh()},I.currencyWithoutDecimal=e=>Math.floor(e/N),I.currencyDecimal=e=>(e/N).toFixed(2),P.onDayChange=I.onDayChange,P.start(t,{}),I.refresh();const V={expose:[],props:{currency:Object,accounts:Array,selectedAccounts:Array,autoPlay:Boolean},setup(e){const{currency:t,accounts:l,selectedAccounts:r}=e;return a((()=>{t&&I.updateCurrency(t),l&&I.addAccounts(l),r&&r.forEach((e=>{I.select(e)}))})),(e,t)=>n(e.$slots,"default")}},Y="fr"==(navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage).substring(0,2)?"fr":"en",B=e=>({render(){if(Y==e)return this.$slots.default()}}),E=e=>e[Y],X=B("fr"),R=B("en"),$={class:"text-center"},K=s("i",{class:"fa fa-play"},null,-1),z=o(" play"),G=s("i",{class:"fa fa-step-forward"},null,-1),W=o(" next"),J=s("i",{class:"fa fa-pause"},null,-1),Q=o(" pause"),H=s("i",{class:"fa fa-refresh"},null,-1),Z=o(" reset"),ee={expose:[],setup:e=>(e,t)=>(l(),r("div",$,[s("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=e=>u(I).play()),disabled:u(I).isPlaying},[K,z],8,["disabled"]),s("button",{class:"btn btn-secondary",onClick:t[2]||(t[2]=e=>u(I).play(!1)),disabled:u(I).isPlaying},[G,W],8,["disabled"]),s("button",{class:"btn btn-secondary mr-5",onClick:t[3]||(t[3]=e=>u(I).stop()),disabled:!u(I).isPlaying},[J,Q],8,["disabled"]),s("button",{class:"btn btn-danger ml-5",onClick:t[4]||(t[4]=e=>u(I).reset())},[H,Z])]))},te={class:"text-center"},ae=o("currency"),ne=o("monnaie"),le={class:"input-group mb-3"},re={class:"input-group-text w-50"},se=o("Ü revaluation"),ue=o("réévaluation de Ü"),oe={value:"melt"},ce=o("melting"),ie=o("fonte"),de={value:"grew"},me=o("growth"),pe=o("croissance"),ye={class:"input-group mb-3"},fe={key:0,class:"input-group-text"},ge={key:1,class:"input-group-text"},he=s("span",{class:"input-group-text"}," ) Ü(t)",-1),xe={class:"input-group mb-3"},be={class:"input-group-text",for:"currencyUPerDay"},ve=o("Ü per day"),_e=o("Ü par jour"),we=s("span",{class:"input-group-text"},"Ü",-1),Te={class:"input-group mb-3"},ke={class:"input-group-text",for:"currencyRevaluationTime"},Ae=o("revaluation period"),De=o("réévaluation"),Me={class:"input-group-text"},Ce=o("day"),Se={key:0},Pe=o("jour"),je={key:0},Oe={class:"input-group mb-3"},Fe={class:"input-group-text",for:"currencyStepTime"},Ue=o("day duration"),qe=o("durée d'un jour"),Le={class:"input-group-text"},Ie=o("second"),Ne={key:0},Ve=o("seconde"),Ye={key:0},Be={key:0,class:"d-grid gap-2 d-md-flex mb-3"},Ee=o("ündo!"),Xe=o("annüler!"),Re=o("üpdate!"),$e=o("valïder!"),Ke={class:"input-group mb-3 mt-5"},ze={class:"input-group-text",for:"currencyMass"},Ge=o("monetary mass (M)"),We=o("masse monétaire (M)"),Je=s("span",{class:"input-group-text"},"Ü",-1),Qe={class:"input-group mb-3"},He={class:"input-group-text",for:"currencyNbMembers"},Ze=o("Üman accounts (N)"),et=o("comptes Ümains (N)"),tt={class:"input-group mb-3"},at={class:"input-group-text",for:"currencyAvg"},nt=o("average"),lt=o("moyenne"),rt={class:"input-group-text"},st=o("Ü / Üman"),ut=o("Ü / Ümain"),ot={class:"input-group mb-3"},ct={class:"input-group-text",for:"currencyQuantitative"},it=o("quantitative value"),dt=o("valeur quantitative"),mt={class:"input-group-text"},pt=o("Ü / Ü(0)"),yt=o("Ü / Ü(0)"),ft={class:"input-group mb-3"},gt={class:"input-group-text",for:"currencyLastGrew"},ht=o("last growth"),xt=o("dernière croissance"),bt=s("span",{class:"input-group-text"},"%",-1),vt={class:"input-group mb-3"},_t={class:"input-group-text",for:"currencyLastMelt"},wt=o("last melting"),Tt=o("dernière fonte"),kt=s("span",{class:"input-group-text"},"%",-1),At={class:"input-group mb-3"},Dt={class:"input-group-text",for:"currencyElapsedTime"},Mt=o("elapsed time (T)"),Ct=o("temps écoulé (T)"),St={class:"input-group-text"},Pt=o("day"),jt={key:0},Ot=o("jour"),Ft={key:0},Ut={expose:[],setup(t){const n=e({expression:"",mode:"melt",uPerDay:1,stepTime:0,revaluationTime:0}),o=c((()=>0==I.currency.lastMelt?0:(1/(1/(I.currency.lastMelt/100)-1)*100).toFixed(2))),f=c((()=>!(!I||!I.currency)&&(I.currency.expression!=n.expression||I.currency.mode!=n.mode||I.currency.uPerDay!=n.uPerDay||I.currency.revaluationTime!=n.revaluationTime||I.currency.stepTime!=n.stepTime)));return a((()=>{Object.assign(n,I.currency)})),(e,t)=>(l(),r("div",null,[s("h4",te,[s(u(R),null,{default:i((()=>[ae])),_:1}),s(u(X),null,{default:i((()=>[ne])),_:1})]),s("form",null,[s("div",le,[s("label",re,[s(u(R),null,{default:i((()=>[se])),_:1}),s(u(X),null,{default:i((()=>[ue])),_:1})]),d(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(n).mode=e),id:"currencyMode",class:["form-select w-50",{"bg-primary":u(n).mode!=u(I).currency.mode}]},[s("option",oe,[s(u(R),null,{default:i((()=>[ce])),_:1}),s(u(X),null,{default:i((()=>[ie])),_:1})]),s("option",de,[s(u(R),null,{default:i((()=>[me])),_:1}),s(u(X),null,{default:i((()=>[pe])),_:1})])],2),[[m,u(n).mode]])]),s("div",ye,["melt"==u(n).mode?(l(),r("span",fe,"Ü(t-1) = ( 1 - ")):(l(),r("span",ge,"Ü(t+1) = ( 1 + ")),d(s("input",{id:"currencyExpression","onUpdate:modelValue":t[2]||(t[2]=e=>u(n).expression=e),type:"text",class:["form-control text-right",{"bg-primary":u(n).expression!=u(I).currency.expression}]},null,2),[[p,u(n).expression]]),he]),s("div",xe,[s("label",be,[s(u(R),null,{default:i((()=>[ve])),_:1}),s(u(X),null,{default:i((()=>[_e])),_:1})]),d(s("input",{id:"currencyUPerDay","onUpdate:modelValue":t[3]||(t[3]=e=>u(n).uPerDay=e),type:"number",min:"0",max:"1000",step:"1",class:["form-control text-right",{"bg-primary":u(n).uPerDay!=u(I).currency.uPerDay}]},null,2),[[p,u(n).uPerDay]]),we]),s("div",Te,[s("label",ke,[s(u(R),null,{default:i((()=>[Ae])),_:1}),s(u(X),null,{default:i((()=>[De])),_:1})]),d(s("input",{id:"currencyRevaluationTime","onUpdate:modelValue":t[4]||(t[4]=e=>u(n).revaluationTime=e),type:"number",min:"1",max:"400",step:"1",class:["form-control text-right",{"bg-primary":u(n).revaluationTime!=u(I).currency.revaluationTime}]},null,2),[[p,u(n).revaluationTime]]),s("span",Me,[s(u(R),null,{default:i((()=>[Ce,u(n).revaluationTime>1?(l(),r("span",Se,"s")):y("",!0)])),_:1}),s(u(X),null,{default:i((()=>[Pe,u(n).revaluationTime>1?(l(),r("span",je,"s")):y("",!0)])),_:1})])]),s("div",Oe,[s("label",Fe,[s(u(R),null,{default:i((()=>[Ue])),_:1}),s(u(X),null,{default:i((()=>[qe])),_:1})]),d(s("input",{id:"currencyStepTime","onUpdate:modelValue":t[5]||(t[5]=e=>u(n).stepTime=e),type:"number",min:"1",max:"90000",step:"1",class:["form-control text-right",{"bg-primary":u(n).stepTime!=u(I).currency.stepTime}]},null,2),[[p,u(n).stepTime]]),s("span",Le,[s(u(R),null,{default:i((()=>[Ie,u(n).stepTime>1?(l(),r("span",Ne,"s")):y("",!0)])),_:1}),s(u(X),null,{default:i((()=>[Ve,u(n).stepTime>1?(l(),r("span",Ye,"s")):y("",!0)])),_:1})])]),u(f)?(l(),r("div",Be,[s("button",{type:"button",class:"btn btn-secondary mr-auto",onClick:t[6]||(t[6]=e=>Object.assign(u(n),u(I).currency))},[s(u(R),null,{default:i((()=>[Ee])),_:1}),s(u(X),null,{default:i((()=>[Xe])),_:1})]),s("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=e=>(()=>{const{expression:e,mode:t,uPerDay:a,revaluationTime:l,stepTime:r}=n;I.updateCurrency({expression:e,mode:t,uPerDay:a,revaluationTime:l,stepTime:r})})())},[s(u(R),null,{default:i((()=>[Re])),_:1}),s(u(X),null,{default:i((()=>[$e])),_:1})])])):y("",!0),s("div",Ke,[s("label",ze,[s(u(R),null,{default:i((()=>[Ge])),_:1}),s(u(X),null,{default:i((()=>[We])),_:1})]),s("input",{id:"currencyMass",value:u(I).currencyWithoutDecimal(u(I).currency.monetaryMass),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),Je]),s("div",Qe,[s("label",He,[s(u(R),null,{default:i((()=>[Ze])),_:1}),s(u(X),null,{default:i((()=>[et])),_:1})]),s("input",{id:"currencyNbMembers",value:u(I).currency.nbMembers,type:"text",class:"form-control text-right",disabled:""},null,8,["value"])]),s("div",tt,[s("label",at,[s(u(R),null,{default:i((()=>[nt])),_:1}),s(u(X),null,{default:i((()=>[lt])),_:1})]),s("input",{id:"currencyAvg",value:u(I).currencyWithoutDecimal(u(I).currency.average),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),s("span",rt,[s(u(R),null,{default:i((()=>[st])),_:1}),s(u(X),null,{default:i((()=>[ut])),_:1})])]),s("div",ot,[s("label",ct,[s(u(R),null,{default:i((()=>[it])),_:1}),s(u(X),null,{default:i((()=>[dt])),_:1})]),s("input",{id:"currencyQuantitative",value:u(I).currency.quantitative.toFixed(2),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),s("span",mt,[s(u(R),null,{default:i((()=>[pt])),_:1}),s(u(X),null,{default:i((()=>[yt])),_:1})])]),s("div",ft,[s("label",gt,[s(u(R),null,{default:i((()=>[ht])),_:1}),s(u(X),null,{default:i((()=>[xt])),_:1})]),s("input",{id:"currencyLastGrew",value:u(o),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),bt]),s("div",vt,[s("label",_t,[s(u(R),null,{default:i((()=>[wt])),_:1}),s(u(X),null,{default:i((()=>[Tt])),_:1})]),s("input",{id:"currencyLastMelt",value:u(I).currency.lastMelt,type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),kt]),s("div",At,[s("label",Dt,[s(u(R),null,{default:i((()=>[Mt])),_:1}),s(u(X),null,{default:i((()=>[Ct])),_:1})]),d(s("input",{id:"currencyElapsedTime","onUpdate:modelValue":t[8]||(t[8]=e=>u(I).currency.elapsedTime=e),type:"text",class:"form-control text-right",disabled:""},null,512),[[p,u(I).currency.elapsedTime]]),s("span",St,[s(u(R),null,{default:i((()=>[Pt,u(I).currency.elapsedTime>1?(l(),r("span",jt,"s")):y("",!0)])),_:1}),s(u(X),null,{default:i((()=>[Ot,u(I).currency.elapsedTime>1?(l(),r("span",Ft,"s")):y("",!0)])),_:1})])])])]))}},qt={class:"text-center"},Lt=o("transaction"),It=o("transaction"),Nt={class:"input-group"},Vt=s("span",{class:"input-group-text"},[s("small",null,"Ü")],-1),Yt={class:"input-group-text",for:"txFrom"},Bt=o(" fröm "),Et=o(" de "),Xt={class:"input-group-text",for:"txTo"},Rt=o(" tö "),$t=o(" à "),Kt=s("option",{disabled:"",value:""},"select öne",-1),zt=s("option",{disabled:"",value:""},"qüi",-1),Gt={expose:[],setup(t){const a=e({from:"fÜne",to:"",value:1}),n=c((()=>I.accounts)),o=c((()=>I.accounts));return(e,t)=>(l(),r("div",null,[s("h4",qt,[s(u(R),null,{default:i((()=>[Lt])),_:1}),s(u(X),null,{default:i((()=>[It])),_:1})]),s("form",null,[s("div",Nt,[d(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(a).value=e),type:"number",step:"any",class:"form-control text-right"},null,512),[[p,u(a).value]]),Vt,s("label",Yt,[s(u(R),null,{default:i((()=>[Bt])),_:1}),s(u(X),null,{default:i((()=>[Et])),_:1})]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u(a).from=e),id:"txFrom",class:"form-select"},[(l(!0),r(f,null,g(u(n),(e=>(l(),r("option",{value:e.name,key:e.name},h(e.name),9,["value"])))),128))],512),[[m,u(a).from]]),s("label",Xt,[s(u(R),null,{default:i((()=>[Rt])),_:1}),s(u(X),null,{default:i((()=>[$t])),_:1})]),d(s("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>u(a).to=e),id:"txTo",class:"form-select"},[s(u(R),null,{default:i((()=>[Kt])),_:1}),s(u(X),null,{default:i((()=>[zt])),_:1}),(l(!0),r(f,null,g(u(o),(e=>(l(),r("option",{value:e.name,key:e.name},h(e.name),9,["value"])))),128))],512),[[m,u(a).to]]),s("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=e=>u(I).doTx(u(a)))},"ök!")])])]))}};function Wt(e){return parseInt(e,10)}function Jt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Qt(e,t,a){var n=e.x-t.x,l=e.y-t.y,r=Math.sqrt(n*n+l*l),s=n/r,u=l/r;return{x:t.x+s*a,y:t.y+u*a}}function Ht(e,t){var a=e.shift();return"M"+a.x+" "+a.y+e.map((function(n,l){var r,s,u,o=e[l+1],c=e[l-1]||a,i=o&&(s=n,u=c,Wt((r=o).x+u.x)===Wt(2*s.x)&&Wt(r.y+u.y)===Wt(2*s.y));if(!o||i)return"L"+n.x+" "+n.y;var d=Math.min(Jt(c,n),Jt(o,n)),m=d/2<t?d/2:t,p=Qt(c,n,m),y=Qt(o,n,m);return"L"+p.x+" "+p.y+"S"+n.x+" "+n.y+" "+y.x+" "+y.y})).join("")}var Zt={props:["smooth","data","boundary","radius","id","max","min","color","width","dash"],render:function(){var e,t=this,a=t.data,n=t.smooth,l=t.boundary,r=t.radius,s=t.id,u=t.max,o=t.min,c=t.width,i=t.dash,d=Ht(function(e,t,a){var n=t.minX,l=t.minY,r=t.maxX,s=t.maxY,u=a.max,o=a.min,c=e.map((function(e){return"number"==typeof e?e:e.value})),i=Math.min.apply(Math,c.concat([o]))-.001,d=(r-n)/(c.length-1),m=(s-l)/(Math.max.apply(Math,c.concat([u]))+.001-i);return c.map((function(e,t){return{x:t*d+n,y:s-(e-i)*m+1e-5*+(t===c.length-1)-1e-5*+(0===t)}}))}(a,l,{max:u,min:o}),n?r:0);return e=this.color?this.color:"url(#"+s+")",x("path",{d:d,fill:"none",stroke:e,"stroke-width":c,"stroke-dasharray":i})}},ea={props:["boundary","max","min"],render:function(){var e=this.boundary;return[x("text",{x:e.minX,y:e.minY-2,fill:"#CCCCCC88","font-size":"0.6em"},Math.floor(this.max/1e3)),x("line",{x1:e.minX,y1:e.minY,x2:e.maxX,y2:e.minY,stroke:"#CCCCCC88"}),x("text",{x:e.minX,y:e.maxY-2,fill:"#CCCCCC88","font-size":"0.6em"},Math.floor(this.min/1e3)),x("line",{x1:e.minX,y1:e.maxY,x2:e.maxX,y2:e.maxY,stroke:"#CCCCCC88"})]}},ta={props:["gradient","gradientDirection","id"],render:function(){var e=this,t=e.gradient,a=e.gradientDirection,n=e.id,l=t.length-1||1,r=t.slice().reverse().map((function(e,t){return x("stop",{offset:t/l,"stop-color":e})}));return x("defs",[x("linearGradient",{id:n,x1:+("left"===a),y1:+("top"===a),x2:+("right"===a),y2:+("bottom"===a)},r)])}},aa={name:"Trend",props:{data:{type:Array,required:!0},autoDraw:Boolean,autoDrawDuration:{type:Number,default:2e3},autoDrawEasing:{type:String,default:"ease"},gradient:{type:Array,default:function(){return["#000"]}},gradientDirection:{type:String,default:"top"},max:{type:Number,default:-1/0},min:{type:Number,default:1/0},height:Number,width:Number,padding:{type:Number,default:8},radius:{type:Number,default:10},smooth:Boolean},watch:{data:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){if(!t.$isServer&&t.$refs.path&&t.autoDraw){var e=t.$refs.path.$el,a=e.getTotalLength();e.style.transition="none",e.style.strokeDasharray=a+" "+a,e.style.strokeDashoffset=Math.abs(a-(t.lastLength||0)),e.getBoundingClientRect(),e.style.transition="stroke-dashoffset "+t.autoDrawDuration+"ms "+t.autoDrawEasing,e.style.strokeDashoffset=0,t.lastLength=a}}))}}},render:function(){if(this.data&&!(this.data.length<2)){var e=this.width,t=this.height,a=this.padding,n=e||300,l=t||75,r={minX:a,minY:a,maxX:n-a,maxY:l-a};return x("svg",{width:e||"100%",height:t||"25%",viewBox:"0 0 "+n+" "+l},[x(ta,{gradient:this.gradient,gradientDirection:this.gradientDirection,id:"stats"}),x(ea,{boundary:r,max:Math.max.apply(Math,this.data.concat([this.max])),min:Math.min.apply(Math,this.data.concat([this.min]))}),x(Zt,{smooth:this.smooth,data:this.data,boundary:r,radius:this.radius,max:this.max,min:this.min,id:"stats",ref:"path",width:1,dash:"0"})])}}},na={name:"Trends",props:{data:{type:Array,required:!0},colors:{type:Array,required:!0},min:{type:Number,default:1/0},height:Number,width:Number,padding:{type:Number,default:8},radius:{type:Number,default:10},smooth:Boolean},render:function(){if(this.data){var e=this.width,t=this.height,a=this.padding,n=e||300,l=t||150,r={minX:a,minY:a,maxX:n-a,maxY:l-a},s=10;for(let e=0;e<this.data.length;e++){const t=this.data[e];if(t&&t.length>1)for(let e=0;e<t.length;e++)s=Math.max(s,t[e])}var u=[];for(let e=0;e<this.data.length;e++){const t=this.data[e];t&&t.length>1&&u.push(x(Zt,{smooth:this.smooth,data:t,boundary:r,radius:this.radius,max:s,min:this.min,id:"stats",ref:"path"+e,color:this.colors[e],width:0==e?1.3:1,dash:0==e?"2 2":"0"}))}if(0!=u.length)return x("svg",{width:e||"100%",height:t||"25%",viewBox:"0 0 "+n+" "+l},[x(ea,{boundary:r,max:s,min:this.min}),u])}}};const la={style:{width:"400px"}},ra={class:"text-center"},sa=o("account"),ua=o("compte"),oa={class:"mt-3 mb-3"},ca={class:"text-center mb-6"},ia={class:"dropdown"},da={class:"btn btn-secondary btn-lg dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},ma={class:"dropdown-menu dropdown-menu-dark dropdown-menu-end","aria-labelledby":"dropdownMenuButton1"},pa={key:0},ya={class:"display-3 text-center"},fa={class:"align-baseline",style:{"font-size":"50%"}},ga=s("small",null," Ü",-1),ha={key:0,class:"display-5 text-center"},xa=o("bank"),ba=o("banque"),va={key:1,class:"display-5 text-center"},_a=o("wallet"),wa=o("compte simple"),Ta={key:2,class:"display-5 text-center"},ka=o("Üman"),Aa=o("Ümain"),Da={class:"text-center mt-4"},Ma=o("transaction"),Ca=o("transaction"),Sa={key:3,class:"mb-4 justify-content-center"},Pa={class:"input-group",style:{width:"400px"}},ja={class:"input-group-text",for:"txMessage",style:{width:"90px"}},Oa=o(" value "),Fa=o(" valeur "),Ua=s("small",{class:"input-group-text"},"Ü",-1),qa={class:"input-group-text",for:"txTo"},La=o(" tö "),Ia=o(" à "),Na={disabled:"",value:""},Va=o("someöne"),Ya=o("qüi"),Ba={class:"input-group"},Ea={class:"input-group-text",for:"txMessage",style:{width:"90px"}},Xa=o("message"),Ra=o("message"),$a={class:"text-center mt-4"},Ka=o("stats"),za=o("stats"),Ga={class:"text-center mt-4"},Wa=o("diary"),Ja=o("journal"),Qa={class:"list-group list-group-flush",style:{"max-width":"440px"}},Ha={class:"d-flex w-100 justify-content-between"},Za={key:0},en={style:{width:"80px"},class:"badge bg-light text-right"},tn=s("small",null," Ü",-1),an={style:{width:"50px"},class:"d-inline-block text-center"},nn=o(" to "),ln=o(" à "),rn={key:1},sn={style:{width:"80px"},class:"badge bg-primary text-right"},un=s("small",null," Ü",-1),on={style:{width:"50px"},class:"d-inline-block text-center"},cn=o(" from "),dn=o(" de "),mn={expose:[],setup(t){const a=e({account:null,accounts:c((()=>I.accounts.filter((e=>"bank"!=e.role)))),otherAccounts:c((()=>I.accounts.filter((e=>"bank"!=e.role&&e.name!=a.account.name)))),stats:[],transactions:[],tx:{from:"",to:"",message:"",value:1}}),n=()=>{a.account&&(a.transactions=I.getAccountTx(a.account.name,10).reverse(),a.stats=I.getAccountStats(a.account.name,"day"))};b((()=>a.account),(()=>{n()})),b((()=>I.currency),n,{deep:!0});const x=e=>I.currencyDecimal(e).slice(-2),v=e=>{if("!1Ucreation"==e)return E({en:"> u crëate Ü!",fr:"> crëation de Ü !"});if(0==e.indexOf("!revaluation%")){let t=e.split("%")[1];return E({en:"> all the Ü melt by "+t+"%!",fr:"> tous les Ü fondent de "+t+"% !"})}return e?"> "+e:""};return(e,t)=>{return l(),r("div",la,[s("h4",ra,[s(u(R),null,{default:i((()=>[sa])),_:1}),s(u(X),null,{default:i((()=>[ua])),_:1})]),s("div",oa,[s("h2",ca,[s("div",ia,[s("button",da,h(u(a).account?u(a).account.name:u(E)({en:"account",fr:"compte"})),1),s("ul",ma,[(l(!0),r(f,null,g(u(a).accounts,(e=>(l(),r("li",{value:e.name,key:e.name},[s("button",{class:"dropdown-item",type:"button",onClick:t=>u(a).account=e},h(e.name),9,["onClick"])],8,["value"])))),128))])])]),u(a).account?(l(),r("div",pa,[s("div",ya,[s("span",null,h((c=u(a).account.balance,I.currencyDecimal(c).slice(0,-3))),1),s("small",fa,"."+h(x(u(a).account.balance)),1),ga]),"bank"==u(a).account.role?(l(),r("p",ha,[s(u(R),null,{default:i((()=>[xa])),_:1}),s(u(X),null,{default:i((()=>[ba])),_:1})])):"wallet"==u(a).account.role?(l(),r("p",va,[s(u(R),null,{default:i((()=>[_a])),_:1}),s(u(X),null,{default:i((()=>[wa])),_:1})])):(l(),r("p",Ta,[s(u(R),null,{default:i((()=>[ka])),_:1}),s(u(X),null,{default:i((()=>[Aa])),_:1})])),s("h4",Da,[s(u(R),null,{default:i((()=>[Ma])),_:1}),s(u(X),null,{default:i((()=>[Ca])),_:1})]),"bank"==u(a).account.role||u(a).account.balance>0?(l(),r("form",Sa,[s("div",null,[s("div",Pa,[s("label",ja,[s(u(R),null,{default:i((()=>[Oa])),_:1}),s(u(X),null,{default:i((()=>[Fa])),_:1})]),d(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(a).tx.value=e),type:"number",max:Math.round(u(a).account.balance/100),step:"any",min:"0",class:"form-control text-right"},null,8,["max"]),[[p,u(a).tx.value]]),Ua,s("label",qa,[s(u(R),null,{default:i((()=>[La])),_:1}),s(u(X),null,{default:i((()=>[Ia])),_:1})]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u(a).tx.to=e),id:"txTo",class:"form-select"},[s("option",Na,[s(u(R),null,{default:i((()=>[Va])),_:1}),s(u(X),null,{default:i((()=>[Ya])),_:1})]),(l(!0),r(f,null,g(u(a).otherAccounts,(e=>(l(),r("option",{value:e.name,key:e.name},[s("strong",null,h(e.name),1)],8,["value"])))),128))],512),[[m,u(a).tx.to]]),s("button",{type:"button",class:"btn btn-primary ml-3",onClick:t[3]||(t[3]=e=>(a.tx.from=a.account.name,console.log(a.tx),I.doTx(a.tx),void n()))},"ök!")]),s("div",Ba,[s("label",Ea,[s(u(R),null,{default:i((()=>[Xa])),_:1}),s(u(X),null,{default:i((()=>[Ra])),_:1})]),d(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>u(a).tx.message=e),type:"text",maxlength:"32",class:"form-control",id:"txMessage"},null,512),[[p,u(a).tx.message]])])])])):y("",!0),s("h4",$a,[s(u(R),null,{default:i((()=>[Ka])),_:1}),s(u(X),null,{default:i((()=>[za])),_:1})]),s(u(aa),{data:u(a).stats,gradientDirection:"top",gradient:["#df691a","#a54f15","#65300d"],padding:10,radius:8,"stroke-width":1,"stroke-linecap":"butt",min:0,max:1e3,height:200,width:400,"auto-draw":"",smooth:""},null,8,["data"]),s("h4",Ga,[s(u(R),null,{default:i((()=>[Wa])),_:1}),s(u(X),null,{default:i((()=>[Ja])),_:1})]),s("ul",Qa,[(l(!0),r(f,null,g(u(a).transactions,(e=>{return l(),r("li",{key:e.id,class:"list-group-item list-group-item-action"},[s("div",Ha,[s("div",null,[e.from==u(a).account.name?(l(),r("h5",Za,[s("span",en,[o(h(u(I).currencyDecimal(e.value)),1),tn]),s("span",an,[s(u(R),null,{default:i((()=>[nn])),_:1}),s(u(X),null,{default:i((()=>[ln])),_:1})]),s("strong",null,[s("span",null,h(e.to),1)])])):(l(),r("h5",rn,[s("span",sn,[o(h(u(I).currencyDecimal(e.value)),1),un]),s("span",on,[s(u(R),null,{default:i((()=>[cn])),_:1}),s(u(X),null,{default:i((()=>[dn])),_:1})]),s("strong",null,[s("span",null,h(e.from),1)])])),o(" "+h(v(e.message)),1)]),s("small",null,h((t=e.day,t>=I.currency.elapsedTime?E({en:"today",fr:"aujourd'hui"}):t==I.currency.elapsedTime-1?E({en:"yesterday",fr:"hier"}):E({en:I.currency.elapsedTime-t+" days ago",fr:"il y a "+(I.currency.elapsedTime-t)+" jours"}))),1)])]);var t})),128))])])):y("",!0)])]);var c}}},pn={class:"text-center"},yn=o("accounts"),fn=o("comptes"),gn={class:"input-group"},hn={class:"input-group-text"},xn=o("name"),bn=o("nom"),vn={class:"input-group-text ml-5"},_n=o("role"),wn=o("rôle"),Tn={value:"human"},kn=o("Üman"),An=o("Ümain"),Dn={value:"wallet"},Mn=o("wället"),Cn=o("sïmple"),Sn=o("nëw!"),Pn=o("noüveau!"),jn={class:"table table-hover mt-5"},On=o("stats"),Fn=o("stats"),Un=o("name"),qn=o("nom"),Ln=o("role"),In=o("rôle"),Nn=o("balance"),Vn=o("solde"),Yn=s("th",null,null,-1),Bn={class:"text-center"},En={key:0,class:"badge bg-primary mr-3",style:{width:"50px"}},Xn=s("small",null,"Ü",-1),Rn=o("man"),$n=s("small",null,"Ü",-1),Kn=o("main"),zn={key:1,class:"badge bg-secondary mr-3",style:{width:"50px"}},Gn=o("wället"),Wn=o("sïmple"),Jn={key:2,class:"badge bg-danger mr-3",style:{width:"50px"}},Qn=o("bänk"),Hn=o("bänque"),Zn=o("change"),el=o("modifier"),tl={class:"text-right"},al=s("small",{class:"mr-3"}," Ü ",-1),nl=o("reset"),ll=o("raz"),rl={class:"text-right"},sl={expose:[],props:{colors:Array},setup(t){const{colors:a}=t,n=e({onlySelected:!1,sortKey:"name",sortOrder:1,newAccount:{name:"",role:"human"}}),x=c((()=>{let e=I.accounts.filter((e=>"bank"!=e.role));return n.onlySelected&&(e=e.filter((e=>I.isSelected(e)))),e.sort(((e,t)=>{let a=e[n.sortKey],l=t[n.sortKey];return(a===l?0:a>l?1:-1)*n.sortOrder}))})),b=e=>{e==n.sortKey&&(n.sortOrder=-n.sortOrder),n.sortKey=e},_=e=>{let t=I.selectedAccounts.indexOf(e.name);return t<0?null:a[t%a.length]};return(e,t)=>(l(),r("div",null,[s("h4",pn,[s(u(R),null,{default:i((()=>[yn])),_:1}),s(u(X),null,{default:i((()=>[fn])),_:1})]),s("div",gn,[s("span",hn,[s(u(R),null,{default:i((()=>[xn])),_:1}),s(u(X),null,{default:i((()=>[bn])),_:1})]),d(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(n).newAccount.name=e),type:"text",class:"form-control",id:"accountName",maxlength:"10"},null,512),[[p,u(n).newAccount.name]]),s("span",vn,[s(u(R),null,{default:i((()=>[_n])),_:1}),s(u(X),null,{default:i((()=>[wn])),_:1})]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u(n).newAccount.role=e),class:"form-control"},[s("option",Tn,[s(u(R),null,{default:i((()=>[kn])),_:1}),s(u(X),null,{default:i((()=>[An])),_:1})]),s("option",Dn,[s(u(R),null,{default:i((()=>[Mn])),_:1}),s(u(X),null,{default:i((()=>[Cn])),_:1})])],512),[[m,u(n).newAccount.role]]),s("button",{type:"button",disabled:3>u(n).newAccount.name.length||u(I).accounts.some((e=>e.name==u(n).newAccount.name)),class:"btn btn-primary ml-5",onClick:t[3]||(t[3]=e=>(n.newAccount.name=n.newAccount.name.trim(),void I.createAccount(n.newAccount)))},[s(u(R),null,{default:i((()=>[Sn])),_:1}),s(u(X),null,{default:i((()=>[Pn])),_:1})],8,["disabled"])]),s("table",jn,[s("thead",null,[s("tr",null,[s("th",{onClick:t[4]||(t[4]=e=>u(n).onlySelected=!u(n).onlySelected),class:[{"bg-primary":u(n).onlySelected},"pointer"],style:{width:"20px"}},[s(u(R),null,{default:i((()=>[On])),_:1}),s(u(X),null,{default:i((()=>[Fn])),_:1})],2),s("th",{onClick:t[5]||(t[5]=e=>b("name")),class:"pointer",style:{width:"250px"}},[s(u(R),null,{default:i((()=>[Un])),_:1}),s(u(X),null,{default:i((()=>[qn])),_:1})]),s("th",{onClick:t[6]||(t[6]=e=>b("role")),class:"text-center pointer"},[s(u(R),null,{default:i((()=>[Ln])),_:1}),s(u(X),null,{default:i((()=>[In])),_:1})]),s("th",{onClick:t[7]||(t[7]=e=>b("balance")),class:"text-right pointer"},[s(u(R),null,{default:i((()=>[Nn])),_:1}),s(u(X),null,{default:i((()=>[Vn])),_:1})]),Yn])]),s("tbody",null,[(l(!0),r(f,null,g(u(x),(e=>(l(),r("tr",{key:e.name},[s("td",{style:{"background-color":_(e)},onClick:t=>u(I).select(e),class:"pointer"},null,12,["onClick"]),s("td",{onClick:t=>u(I).select(e),class:"pointer"},h(e.name),9,["onClick"]),s("td",Bn,["human"==e.role?(l(),r("span",En,[s(u(R),null,{default:i((()=>[Xn,Rn])),_:1}),s(u(X),null,{default:i((()=>[$n,Kn])),_:1})])):"wallet"==e.role?(l(),r("span",zn,[s(u(R),null,{default:i((()=>[Gn])),_:1}),s(u(X),null,{default:i((()=>[Wn])),_:1})])):(l(),r("span",Jn,[s(u(R),null,{default:i((()=>[Qn])),_:1}),s(u(X),null,{default:i((()=>[Hn])),_:1})])),"bank"!=e.role?(l(),r("a",{key:3,href:"#",onClick:v((t=>(e=>{let t="human"==e.role?"wallet":"human";I.updateAccount(e,{role:t})})(e)),["stop","prevent"])},[s(u(R),null,{default:i((()=>[Zn])),_:1}),s(u(X),null,{default:i((()=>[el])),_:1})],8,["onClick"])):y("",!0)]),s("td",tl,["bank"!=e.role?(l(),r(f,{key:0},[s("strong",null,[o(h(u(I).currencyDecimal(e.balance)),1),al]),s("a",{href:"#",onClick:v((t=>(e=>{I.updateAccount(e,{balance:0})})(e)),["stop","prevent"])},[s(u(R),null,{default:i((()=>[nl])),_:1}),s(u(X),null,{default:i((()=>[ll])),_:1})],8,["onClick"])],64)):y("",!0)]),s("td",rl,[e.name!=u(I).name?(l(),r("a",{key:0,href:"#",onClick:v((t=>(e=>{const t=e.name;confirm(E({fr:"êtes vous sûr de supprimer "+t+" ?",en:"Are you sure to delete "+t+"?"}))&&I.deleteAccount(e)})(e)),["stop","prevent"])},"x",8,["onClick"])):y("",!0)])])))),128))])])]))}},ul={class:"text-center"},ol=o("stats"),cl=o("stats"),il={class:"w-100 d-flex justify-content-between"},dl={class:"input-group w-auto ml-4"},ml=s("label",{class:"input-group-text"}," 100 ",-1),pl={value:"day"},yl=o("days"),fl=o("jours"),gl={value:"month"},hl=o("months"),xl=o("mois"),bl={value:"year"},vl=o("years"),_l=o("années"),wl={class:"ms-auto w-auto input-group mr-4"},Tl={class:"input-group-text"},kl=o("referential"),Al=o("référentiel"),Dl={value:"relative"},Ml=o("relative"),Cl=o("relatif"),Sl={value:"quantitative"},Pl=o("quantitative"),jl=o("quantitatif"),Ol={value:"average"},Fl=o("average"),Ul=o("moyenne"),ql={expose:[],props:{colors:Array},setup(t){const{colors:n}=t,o=e({referential:"relative",statType:"day",stats:[]}),c=()=>{let e=I.getAccountStats(I.name,o.statType),t=[[]];for(let a=1;a<I.selectedAccounts.length;a++){const n=I.selectedAccounts[a];if(n){let a=I.getAccountStats(n,o.statType);if("average"==o.referential)for(let t=0;t<a.length;t++)a[t]=0==e[t].average?0:a[t]/e[t].average*1e5;else if("quantitative"==o.referential)for(let t=0;t<a.length;t++)a[t]=a[t]*e[t].quantitative;t.push(a)}}"average"==o.referential?t[0]=new Array(e.length).fill(1e5):"relative"==o.referential?t[0]=e.map((e=>e.average)):"quantitative"==o.referential&&(t[0]=e.map((e=>e.average*e.quantitative))),o.stats=t};return b((()=>I.selectedAccounts.length),c),b((()=>I.currency),c,{deep:!0}),b((()=>o.referential),c),b((()=>o.statType),c),a((()=>{c()})),(e,t)=>(l(),r("div",null,[s("h4",ul,[s(u(R),null,{default:i((()=>[ol])),_:1}),s(u(X),null,{default:i((()=>[cl])),_:1})]),s(u(na),{data:u(o).stats,colors:n,padding:10,radius:8,"stroke-width":1,"stroke-linecap":"butt",min:0,"auto-draw":"",smooth:""},null,8,["data"]),s("div",il,[s("div",dl,[ml,d(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>u(o).statType=e)},[s("option",pl,[s(u(R),null,{default:i((()=>[yl])),_:1}),s(u(X),null,{default:i((()=>[fl])),_:1})]),s("option",gl,[s(u(R),null,{default:i((()=>[hl])),_:1}),s(u(X),null,{default:i((()=>[xl])),_:1})]),s("option",bl,[s(u(R),null,{default:i((()=>[vl])),_:1}),s(u(X),null,{default:i((()=>[_l])),_:1})])],512),[[m,u(o).statType]])]),s("div",wl,[s("label",Tl,[s(u(R),null,{default:i((()=>[kl])),_:1}),s(u(X),null,{default:i((()=>[Al])),_:1})]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u(o).referential=e)},[s("option",Dl,[s(u(R),null,{default:i((()=>[Ml])),_:1}),s(u(X),null,{default:i((()=>[Cl])),_:1})]),s("option",Sl,[s(u(R),null,{default:i((()=>[Pl])),_:1}),s(u(X),null,{default:i((()=>[jl])),_:1})]),s("option",Ol,[s(u(R),null,{default:i((()=>[Fl])),_:1}),s(u(X),null,{default:i((()=>[Ul])),_:1})])],512),[[m,u(o).referential]])])])]))}},Ll=s("h1",{class:"display-1 text-center mb-5"},[s("img",{src:"/favicon64x64.png"}),s("span",{class:"align-middle"},[o(" f"),s("small",null,"Ü"),o("ne")])],-1),Il={class:"lead text-center mb-3"},Nl=s("strong",null,[o("f"),s("small",null,"Ü"),o("ne")],-1),Vl=o(" is a web app to test and play with a simple "),Yl=s("a",{href:"https://libre-currency.org"},"Libre Currency",-1),Bl=o(" called "),El=s("strong",null,[o("f"),s("small",null,"Ü"),o("ne")],-1),Xl=o(" (pronounced /fən/ like fun) "),Rl=s("strong",null,[o("f"),s("small",null,"Ü"),o("ne")],-1),$l=o(" est une appli web qui permet de jouer avec une simple "),Kl=s("a",{href:"https://monnaie-libre.fr/"},"Monnaie Libre",-1),zl=o(" appelée "),Gl=s("strong",null,[o("f"),s("small",null,"Ü"),o("ne")],-1),Wl=o(" (prononcée /fən/ comme fun en anglais) "),Jl={class:"lead text-center mb-5"},Ql=o(" a "),Hl=s("small",null,"Ü",-1),Zl=o("man account create some new "),er=s("small",null,"Ü",-1),tr=o(" (the "),ar=s("small",null,"Ü",-1),nr=o("nit of the f"),lr=s("small",null,"Ü",-1),rr=o("ne currency) each day"),sr=s("br",null,null,-1),ur=s("small",null,[o("old created "),s("strong",null,[s("small",null,"Ü"),o("nits")]),o(" melt by a given percentage each "),s("strong",null,"revaluation period")],-1),or=s("br",null,null,-1),cr=o(" un compte "),ir=s("small",null,"Ü",-1),dr=o("main crée de nouvelles "),mr=s("small",null,"Ü",-1),pr=o(" (l'"),yr=s("small",null,"Ü",-1),fr=o("nité de la monnaie f"),gr=s("small",null,"Ü",-1),hr=o("ne) chaque jour"),xr=s("br",null,null,-1),br=s("small",null,[o("les anciennes "),s("strong",null,[s("small",null,"Ü"),o("nités")]),o(" fondent d'un certain pourcentage à chaque "),s("strong",null,"période de réévaluation")],-1),vr=s("br",null,null,-1),_r={class:"d-flex align-items-start flex-wrap mb-3",style:{"justify-content":"space-evenly"}},wr={style:{"min-width":"500px"}},Tr={style:{"min-width":"700px"}};let kr=JSON.parse(localStorage.getItem("state"));window.location.hash&&(kr||(kr={currency:{}}),Object.assign(kr.currency,(e=>{const t=new URLSearchParams(e);return{mode:"grew"==t.get("m")?"grew":"melt",expression:t.get("e"),uPerDay:parseInt(t.get("upd")),revaluationTime:parseInt(t.get("rt")),stepTime:parseInt(t.get("st"))}})(window.location.hash.substring(1)))),I.restoreState(kr);_({expose:[],setup(e){b((()=>I.currency),(()=>{window.location.hash="#"+(e=>{const t=new URLSearchParams;return t.append("e",e.expression),t.append("m",e.mode),t.append("upd",e.uPerDay),t.append("rt",e.revaluationTime),t.append("st",e.stepTime),t.toString()})(I.currency),localStorage.setItem("state",JSON.stringify(I.getState()))}));const t=["#FFFFFFDD","#FE4365DD","#F9CDADDD","#83AF9BDD","#A7226EDD","#F26B38DD","#F7DB4FDD","#CAFDE0DD","#FFB8EADD","#C3421ADD","#4F6ABFDD"],a=[];return I.accounts.length<=1&&(a.push({name:"Alice",balance:1e4,role:"human"}),a.push({name:"Bob",balance:2e4,role:"human"}),a.push({name:"Carole",balance:0,role:"human"})),(e,n)=>(l(),r("div",null,[Ll,s("p",Il,[s(u(R),null,{default:i((()=>[Nl,Vl,Yl,Bl,El,Xl])),_:1}),s(u(X),null,{default:i((()=>[Rl,$l,Kl,zl,Gl,Wl])),_:1})]),s("p",Jl,[s(u(R),null,{default:i((()=>[Ql,Hl,Zl,er,tr,ar,nr,lr,rr,sr,ur,or])),_:1}),s(u(X),null,{default:i((()=>[cr,ir,dr,mr,pr,yr,fr,gr,hr,xr,br,vr])),_:1})]),s(V,{accounts:a,selectedAccounts:a},{default:i((()=>[s(ee,{class:"m-auto"}),s("div",_r,[s("div",wr,[s(Ut,{style:{width:"400px"}}),s(Gt,{class:"mt-5",style:{width:"400px"}}),s(mn,{class:"mt-5"})]),s("div",Tr,[s(ql,{colors:t,class:"w-auto"}),s(sl,{colors:t,class:"mt-5"})])])])),_:1})]))}}).mount("#app");
