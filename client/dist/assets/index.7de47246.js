import{r as e,e as t,o as a,a as n,b as l,c as r,d as s,f as u,u as o,w as c,g as i,h as d,i as m,v as p,j as y,k as f,F as g,l as h,t as b,m as x,n as v,p as _,q as w}from"./vendor.c104d499.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const s=new URL(e,n);if(self[t].moduleMap[s])return a(self[t].moduleMap[s]);const u=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(u),onerror(){r(new Error(`Failed to import: ${e}`)),l(o)},onload(){a(self[t].moduleMap[s]),l(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");const T="human",k="bank",A="grew",D="melt",M={day:"day",month:"month",year:"year"},C={day:1,month:60,year:360};let S=0,P={};const j={name:"fÜne",logo:"fї",uValue:1e3,isPlaying:!1,doTx:(e,t=!0)=>{let a=Object.assign({from:"",to:"",message:"",value:0,date:(new Date).toISOString(),day:P.currency.elapsedTime},e);var n=P.accounts[a.from],l=P.accounts[a.to];return a.value<=0||!n||!l||n==l||n.role!=k&&n.balance-a.value<0?null:(l.role!=k&&(l.balance+=a.value),n.role!=k&&(n.balance-=a.value,n.balance<10&&(n.balance=0)),a.balanceFrom=n.balance,a.balanceTo=l.balance,P.transactions.push(a),P.transactions.length>1e3&&(P.transactions=P.transactions.slice(P.transactions.length-1e3)),t&&L(),a)},getCurrency:()=>Object.assign({},P.currency),updateCurrency:e=>{const t=j.isPlaying;return t&&j.stop(),Object.assign(P.currency,e),t&&j.play(),Object.assign({},P.currency)},getAccount:e=>P.accounts[e],getAccounts:()=>Object.values(P.accounts),createAccount:e=>{if(e.name=e.name.trim(),!e.name||P.accounts[e.name])return null;let t=P.accounts[e.name]=Object.assign({name:"",balance:0,role:"wallet",date:(new Date).toISOString(),creationDay:P.currency.elapsedTime},e);return L(),t},updateAccount:(e,t)=>{let a=P.accounts[e];return!a||"bank"==a.role||t.name&&e!=t.name?null:(a=Object.assign(a,t),L(),a)},deleteAccount:e=>{let t=P.accounts[e];return t&&t.name!=j.name?(delete P.accounts[e],delete P.stats[e],L(),t):null},getAccountTx:(e,t)=>{if(!P.accounts[e])return null;let a=P.transactions.filter((t=>t.from==e||t.to==e));return t>0&&t<a.length&&(a=a.slice(-t)),a},getAccountStats:(e,t=M.day)=>{if((t=M[t])||(t=M.day),!P.accounts[e])return null;const a=P.stats[e];if(!a)return[];const n=a[t];if(!n)return[];if(P.currency.elapsedTime<C[t])return[n[0],n[0]];let l=(Math.floor(P.currency.elapsedTime/C[t])+1)%100;return l>0&&P.currency.elapsedTime<100*C[t]?n.slice(0,l):n.slice(l).concat(n.slice(0,l))},getState:()=>({currency:P.currency,accounts:P.accounts,transactions:P.transactions,stats:P.stats})},O={date:(new Date).toISOString(),stepTime:10,uPerDay:1,elapsedTime:0,revaluationTime:1,nbMembers:0,monetaryMass:0,mode:D,lastMelt:0,average:0,quantitative:1,expression:"10/100"};j.expressionParser=(e,t)=>parseFloat(e);const F=/!x(\d+)/,U=j.uValue,q=()=>({isStatMonth:P.currency.elapsedTime%C.month==0,isStatYear:P.currency.elapsedTime%C.year==0,statDayIndex:P.currency.elapsedTime%100,statMonthIndex:P.currency.elapsedTime/C.month%100,statYearIndex:P.currency.elapsedTime/C.year%100}),L=()=>{let e=0,t=0;const a=q();Object.values(P.accounts).forEach((n=>{const l=n.name.match(F);let r=1;l&&(r=parseInt(l[1])),n.role==T&&(t+=r),n.role!=k&&(e+=n.balance*r,((e,t,a=null)=>{a||(a=q());let n=P.stats[e.name];n||(n={},n[M.day]=new Array(100).fill(0),n[M.month]=new Array(100).fill(0),n[M.year]=new Array(100).fill(0),P.stats[e.name]=n),n[M.day][a.statDayIndex]=t,a.isStatMonth&&(n[M.month][a.statMonthIndex]=t),a.isStatYear&&(n[M.year][a.statYearIndex]=t)})(n,n.balance,a))})),P.currency.nbMembers=t,P.currency.monetaryMass=e,P.currency.average=t>0?Math.floor(e/t):0,((e=null)=>{e||(e=q());let t=Object.assign({},P.currency),a=P.stats[j.name];a||(a={},a[M.day]=new Array(100).fill(O),a[M.month]=new Array(100).fill(O),a[M.year]=new Array(100).fill(O),P.stats[j.name]=a),a[M.day][e.statDayIndex]=t,e.isStatMonth&&(a[M.month][e.statMonthIndex]=t),e.isStatYear&&(a[M.year][e.statYearIndex]=t)})(a)},I=(e=!0)=>{P.currency.elapsedTime++;let t=0,a=0;const n=P.currency.uPerDay>=0?Math.floor(P.currency.uPerDay):0,l=U*P.currency.revaluationTime*n,r=P.accounts[j.name],s=P.currency.elapsedTime%P.currency.revaluationTime==0;s&&P.currency.nbMembers>0&&(t=j.expressionParser(P.currency.expression,{M:P.currency.monetaryMass/l,N:P.currency.nbMembers,T:P.currency.elapsedTime}),P.currency.mode==A&&(t=1-1/(1+t)),t=Math.max(0,Math.min(1,t)),a=(100*t).toFixed(2)),Object.values(P.accounts).forEach((e=>{if(s&&t>0&&e.balance>9){let n=e.balance*t;n=Math.min(n>l?Math.ceil(n):Math.floor(n),e.balance),n<10&&(n=10),j.doTx({from:e.name,to:r.name,message:"!revaluation%"+a,value:n},!1)}e.role==T&&n>0&&j.doTx({from:r.name,to:e.name,message:"!1Ucreation",value:U*n},!1)})),s&&(P.currency.lastMelt=a,P.currency.quantitative=P.currency.quantitative+1/(1/t-1)),L(),e&&(S=setTimeout(I,1e3*P.currency.stepTime,!0)),j.onDayChange(P.currency.elapsedTime)};j.restoreState=e=>{e&&(e.currency&&(P.currency=Object.assign(O,e.currency)),e.accounts&&(P.accounts=e.accounts),e.transactions&&(P.transactions=e.transactions),e.stats&&(P.stats=e.stats))},j.start=(e,t)=>{j.restoreState(t),e&&(j.expressionParser=e),P.currency||(P.currency=O),P.accounts||(P.accounts={}),P.accounts[j.name]={name:j.name,balance:0,role:k,date:(new Date).toISOString(),creationDay:0},P.transactions||(P.transactions=[]),P.stats||(P.stats={})},j.onDayChange=()=>{},j.reset=()=>{j.stop(),Object.values(P.accounts).forEach((e=>{e.balance=0})),P.transactions=[],P.stats={},P.currency.elapsedTime=0,P.currency.lastMelt=0,P.currency.quantitative=1,L()},j.play=(e=!0)=>{j.isPlaying||(0!=S&&(clearTimeout(S),S=0),j.isPlaying=e,I(e))},j.stop=()=>{j.isPlaying&&(0!=S&&(clearTimeout(S),S=0),j.isPlaying=!1)};const E=e({name:j.name,isPlaying:!1,currency:{},accounts:[],selectedAccounts:[j.name]}),N=j.uValue;E.isSelected=e=>E.selectedAccounts.indexOf(e.name)>=0,E.select=e=>{if("bank"==e.role)return;let t=E.selectedAccounts.indexOf(e.name);t<0?E.selectedAccounts.push(e.name):E.selectedAccounts.splice(t,1)},E.doTx=e=>{const t=j.doTx({from:e.from,to:e.to,value:Math.floor(e.value*N)});return t&&E.refresh(),t},E.updateCurrency=e=>(E.currency=j.updateCurrency(e),E.currency),E.addAccounts=e=>{e&&(e.forEach((e=>{j.createAccount(e)||j.updateAccount(e.name,e)})),E.refresh())},E.createAccount=e=>{let t=j.createAccount(e);return t&&(E.accounts.push(t),E.refresh()),t},E.updateAccount=(e,t)=>{let a=j.updateAccount(e.name,t);return a&&(a=Object.assign(e,a),E.refresh()),a},E.deleteAccount=e=>{let t=null;return j.deleteAccount(e.name)&&(E.isSelected(e)&&E.select(e),t=e,E.refresh()),t},E.getAccountTx=(e,t)=>j.getAccountTx(e,t),E.getAccountStats=(e,t=statTypes.day)=>j.getAccountStats(e,t),E.onDayChange=()=>{E.refresh()},E.refresh=()=>{E.accounts=j.getAccounts(),E.currency=j.getCurrency()},E.reset=()=>{j.reset(),E.refresh(),E.isPlaying=j.isPlaying},E.play=e=>{j.play(e),E.refresh(),E.isPlaying=j.isPlaying},E.stop=()=>{j.stop(),E.refresh(),E.isPlaying=j.isPlaying},E.getState=()=>{const e=j.getState();return e.selectedAccounts=E.selectedAccounts,e},E.restoreState=e=>{e.selectedAccounts&&(E.selectedAccounts=e.selectedAccounts),j.restoreState(e),E.refresh()},E.currencyWithoutDecimal=e=>Math.floor(e/N),E.currencyDecimal=e=>(e/N).toFixed(2),j.onDayChange=E.onDayChange,j.start(t,{}),E.refresh();const V={expose:[],props:{currency:Object,accounts:Array,selectedAccounts:Array,autoPlay:Boolean},setup(e){const{currency:t,accounts:l,selectedAccounts:r}=e;return a((()=>{t&&E.updateCurrency(t),l&&E.addAccounts(l),r&&r.forEach((e=>{E.select(e)}))})),(e,t)=>n(e.$slots,"default")}},Y="fr"==(navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage).substring(0,2)?"fr":"en",B=e=>({render(){if(Y==e)return this.$slots.default()}}),X=e=>e[Y],$=B("fr"),R=B("en"),K={class:"text-center"},z=u("i",{class:"fa fa-play"},null,-1),G=i(" play"),W=u("i",{class:"fa fa-step-forward"},null,-1),J=i(" next"),Q=u("i",{class:"fa fa-pause"},null,-1),H=i(" pause"),Z=u("i",{class:"fa fa-refresh"},null,-1),ee=i(" reset"),te={expose:[],setup(e){const t=()=>{E.play(!1)};return(e,a)=>{const n=l("longclick");return r(),s("div",K,[u("button",{class:"btn btn-primary",onClick:a[1]||(a[1]=e=>o(E).play()),disabled:o(E).isPlaying},[z,G],8,["disabled"]),c(u("button",{class:"btn btn-secondary",disabled:o(E).isPlaying},[W,J],8,["disabled"]),[[n,t]]),u("button",{class:"btn btn-secondary mr-5",onClick:a[2]||(a[2]=e=>o(E).stop()),disabled:!o(E).isPlaying},[Q,H],8,["disabled"]),u("button",{class:"btn btn-danger ml-5",onClick:a[3]||(a[3]=e=>o(E).reset())},[Z,ee])])}}},ae={class:"text-center"},ne=i("currency"),le=i("monnaie"),re={class:"input-group mb-3"},se={class:"input-group-text w-50"},ue=i("Ü revaluation"),oe=i("réévaluation de Ü"),ce={value:"melt"},ie=i("melting"),de=i("fonte"),me={value:"grew"},pe=i("growth"),ye=i("croissance"),fe={class:"input-group mb-3"},ge={key:0,class:"input-group-text"},he={key:1,class:"input-group-text"},be=u("span",{class:"input-group-text"}," ) Ü(t)",-1),xe={class:"input-group mb-3"},ve={class:"input-group-text",for:"currencyUPerDay"},_e=i("Ü per day"),we=i("Ü par jour"),Te=u("span",{class:"input-group-text"},"Ü",-1),ke={class:"input-group mb-3"},Ae={class:"input-group-text",for:"currencyRevaluationTime"},De=i("revaluation period"),Me=i("réévaluation"),Ce={class:"input-group-text"},Se=i("day"),Pe={key:0},je=i("jour"),Oe={key:0},Fe={class:"input-group mb-3"},Ue={class:"input-group-text",for:"currencyStepTime"},qe=i("day duration"),Le=i("durée d'un jour"),Ie={class:"input-group-text"},Ee=i("second"),Ne={key:0},Ve=i("seconde"),Ye={key:0},Be={key:0,class:"d-grid gap-2 d-md-flex mb-3"},Xe=i("ündo!"),$e=i("annüler!"),Re=i("üpdate!"),Ke=i("valïder!"),ze={class:"input-group mb-3 mt-5"},Ge={class:"input-group-text",for:"currencyMass"},We=i("monetary mass (M)"),Je=i("masse monétaire (M)"),Qe=u("span",{class:"input-group-text"},"Ü",-1),He={class:"input-group mb-3"},Ze={class:"input-group-text",for:"currencyNbMembers"},et=i("Üman accounts (N)"),tt=i("comptes Ümains (N)"),at={class:"input-group mb-3"},nt={class:"input-group-text",for:"currencyAvg"},lt=i("average"),rt=i("moyenne"),st={class:"input-group-text"},ut=i("Ü / Üman"),ot=i("Ü / Ümain"),ct={class:"input-group mb-3"},it={class:"input-group-text",for:"currencyQuantitative"},dt=i("quantitative value"),mt=i("valeur quantitative"),pt={class:"input-group-text"},yt=i("Ü / Ü(0)"),ft=i("Ü / Ü(0)"),gt={class:"input-group mb-3"},ht={class:"input-group-text",for:"currencyLastGrew"},bt=i("last growth"),xt=i("dernière croissance"),vt=u("span",{class:"input-group-text"},"%",-1),_t={class:"input-group mb-3"},wt={class:"input-group-text",for:"currencyLastMelt"},Tt=i("last melting"),kt=i("dernière fonte"),At=u("span",{class:"input-group-text"},"%",-1),Dt={class:"input-group mb-3"},Mt={class:"input-group-text",for:"currencyElapsedTime"},Ct=i("elapsed time (T)"),St=i("temps écoulé (T)"),Pt={class:"input-group-text"},jt=i("day"),Ot={key:0},Ft=i("jour"),Ut={key:0},qt={expose:[],setup(t){const n=e({expression:"",mode:"melt",uPerDay:1,stepTime:0,revaluationTime:0}),l=d((()=>0==E.currency.lastMelt?0:(1/(1/(E.currency.lastMelt/100)-1)*100).toFixed(2))),i=d((()=>!(!E||!E.currency)&&(E.currency.expression!=n.expression||E.currency.mode!=n.mode||E.currency.uPerDay!=n.uPerDay||E.currency.revaluationTime!=n.revaluationTime||E.currency.stepTime!=n.stepTime)));return a((()=>{Object.assign(n,E.currency)})),(e,t)=>(r(),s("div",null,[u("h4",ae,[u(o(R),null,{default:m((()=>[ne])),_:1}),u(o($),null,{default:m((()=>[le])),_:1})]),u("form",null,[u("div",re,[u("label",se,[u(o(R),null,{default:m((()=>[ue])),_:1}),u(o($),null,{default:m((()=>[oe])),_:1})]),c(u("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>o(n).mode=e),id:"currencyMode",class:["form-select w-50",{"bg-primary":o(n).mode!=o(E).currency.mode}]},[u("option",ce,[u(o(R),null,{default:m((()=>[ie])),_:1}),u(o($),null,{default:m((()=>[de])),_:1})]),u("option",me,[u(o(R),null,{default:m((()=>[pe])),_:1}),u(o($),null,{default:m((()=>[ye])),_:1})])],2),[[p,o(n).mode]])]),u("div",fe,["melt"==o(n).mode?(r(),s("span",ge,"Ü(t-1) = ( 1 - ")):(r(),s("span",he,"Ü(t+1) = ( 1 + ")),c(u("input",{id:"currencyExpression","onUpdate:modelValue":t[2]||(t[2]=e=>o(n).expression=e),type:"text",class:["form-control text-right",{"bg-primary":o(n).expression!=o(E).currency.expression}]},null,2),[[y,o(n).expression]]),be]),u("div",xe,[u("label",ve,[u(o(R),null,{default:m((()=>[_e])),_:1}),u(o($),null,{default:m((()=>[we])),_:1})]),c(u("input",{id:"currencyUPerDay","onUpdate:modelValue":t[3]||(t[3]=e=>o(n).uPerDay=e),type:"number",min:"0",max:"1000",step:"1",class:["form-control text-right",{"bg-primary":o(n).uPerDay!=o(E).currency.uPerDay}]},null,2),[[y,o(n).uPerDay]]),Te]),u("div",ke,[u("label",Ae,[u(o(R),null,{default:m((()=>[De])),_:1}),u(o($),null,{default:m((()=>[Me])),_:1})]),c(u("input",{id:"currencyRevaluationTime","onUpdate:modelValue":t[4]||(t[4]=e=>o(n).revaluationTime=e),type:"number",min:"1",max:"400",step:"1",class:["form-control text-right",{"bg-primary":o(n).revaluationTime!=o(E).currency.revaluationTime}]},null,2),[[y,o(n).revaluationTime]]),u("span",Ce,[u(o(R),null,{default:m((()=>[Se,o(n).revaluationTime>1?(r(),s("span",Pe,"s")):f("",!0)])),_:1}),u(o($),null,{default:m((()=>[je,o(n).revaluationTime>1?(r(),s("span",Oe,"s")):f("",!0)])),_:1})])]),u("div",Fe,[u("label",Ue,[u(o(R),null,{default:m((()=>[qe])),_:1}),u(o($),null,{default:m((()=>[Le])),_:1})]),c(u("input",{id:"currencyStepTime","onUpdate:modelValue":t[5]||(t[5]=e=>o(n).stepTime=e),type:"number",min:"1",max:"90000",step:"1",class:["form-control text-right",{"bg-primary":o(n).stepTime!=o(E).currency.stepTime}]},null,2),[[y,o(n).stepTime]]),u("span",Ie,[u(o(R),null,{default:m((()=>[Ee,o(n).stepTime>1?(r(),s("span",Ne,"s")):f("",!0)])),_:1}),u(o($),null,{default:m((()=>[Ve,o(n).stepTime>1?(r(),s("span",Ye,"s")):f("",!0)])),_:1})])]),o(i)?(r(),s("div",Be,[u("button",{type:"button",class:"btn btn-secondary mr-auto",onClick:t[6]||(t[6]=e=>Object.assign(o(n),o(E).currency))},[u(o(R),null,{default:m((()=>[Xe])),_:1}),u(o($),null,{default:m((()=>[$e])),_:1})]),u("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=e=>(()=>{const{expression:e,mode:t,uPerDay:a,revaluationTime:l,stepTime:r}=n;E.updateCurrency({expression:e,mode:t,uPerDay:a,revaluationTime:l,stepTime:r})})())},[u(o(R),null,{default:m((()=>[Re])),_:1}),u(o($),null,{default:m((()=>[Ke])),_:1})])])):f("",!0),u("div",ze,[u("label",Ge,[u(o(R),null,{default:m((()=>[We])),_:1}),u(o($),null,{default:m((()=>[Je])),_:1})]),u("input",{id:"currencyMass",value:o(E).currencyWithoutDecimal(o(E).currency.monetaryMass),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),Qe]),u("div",He,[u("label",Ze,[u(o(R),null,{default:m((()=>[et])),_:1}),u(o($),null,{default:m((()=>[tt])),_:1})]),u("input",{id:"currencyNbMembers",value:o(E).currency.nbMembers,type:"text",class:"form-control text-right",disabled:""},null,8,["value"])]),u("div",at,[u("label",nt,[u(o(R),null,{default:m((()=>[lt])),_:1}),u(o($),null,{default:m((()=>[rt])),_:1})]),u("input",{id:"currencyAvg",value:o(E).currencyWithoutDecimal(o(E).currency.average),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),u("span",st,[u(o(R),null,{default:m((()=>[ut])),_:1}),u(o($),null,{default:m((()=>[ot])),_:1})])]),u("div",ct,[u("label",it,[u(o(R),null,{default:m((()=>[dt])),_:1}),u(o($),null,{default:m((()=>[mt])),_:1})]),u("input",{id:"currencyQuantitative",value:o(E).currency.quantitative.toFixed(2),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),u("span",pt,[u(o(R),null,{default:m((()=>[yt])),_:1}),u(o($),null,{default:m((()=>[ft])),_:1})])]),u("div",gt,[u("label",ht,[u(o(R),null,{default:m((()=>[bt])),_:1}),u(o($),null,{default:m((()=>[xt])),_:1})]),u("input",{id:"currencyLastGrew",value:o(l),type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),vt]),u("div",_t,[u("label",wt,[u(o(R),null,{default:m((()=>[Tt])),_:1}),u(o($),null,{default:m((()=>[kt])),_:1})]),u("input",{id:"currencyLastMelt",value:o(E).currency.lastMelt,type:"text",class:"form-control text-right",disabled:""},null,8,["value"]),At]),u("div",Dt,[u("label",Mt,[u(o(R),null,{default:m((()=>[Ct])),_:1}),u(o($),null,{default:m((()=>[St])),_:1})]),c(u("input",{id:"currencyElapsedTime","onUpdate:modelValue":t[8]||(t[8]=e=>o(E).currency.elapsedTime=e),type:"text",class:"form-control text-right",disabled:""},null,512),[[y,o(E).currency.elapsedTime]]),u("span",Pt,[u(o(R),null,{default:m((()=>[jt,o(E).currency.elapsedTime>1?(r(),s("span",Ot,"s")):f("",!0)])),_:1}),u(o($),null,{default:m((()=>[Ft,o(E).currency.elapsedTime>1?(r(),s("span",Ut,"s")):f("",!0)])),_:1})])])])]))}},Lt={class:"text-center"},It=i("transaction"),Et=i("transaction"),Nt={class:"input-group"},Vt=u("span",{class:"input-group-text"},[u("small",null,"Ü")],-1),Yt={class:"input-group-text",for:"txFrom"},Bt=i(" fröm "),Xt=i(" de "),$t={class:"input-group-text",for:"txTo"},Rt=i(" tö "),Kt=i(" à "),zt=u("option",{disabled:"",value:""},"select öne",-1),Gt=u("option",{disabled:"",value:""},"qüi",-1),Wt={expose:[],setup(t){const a=e({from:"fÜne",to:"",value:1}),n=d((()=>E.accounts)),l=d((()=>E.accounts));return(e,t)=>(r(),s("div",null,[u("h4",Lt,[u(o(R),null,{default:m((()=>[It])),_:1}),u(o($),null,{default:m((()=>[Et])),_:1})]),u("form",null,[u("div",Nt,[c(u("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o(a).value=e),type:"number",step:"any",class:"form-control text-right"},null,512),[[y,o(a).value]]),Vt,u("label",Yt,[u(o(R),null,{default:m((()=>[Bt])),_:1}),u(o($),null,{default:m((()=>[Xt])),_:1})]),c(u("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o(a).from=e),id:"txFrom",class:"form-select"},[(r(!0),s(g,null,h(o(n),(e=>(r(),s("option",{value:e.name,key:e.name},b(e.name),9,["value"])))),128))],512),[[p,o(a).from]]),u("label",$t,[u(o(R),null,{default:m((()=>[Rt])),_:1}),u(o($),null,{default:m((()=>[Kt])),_:1})]),c(u("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o(a).to=e),id:"txTo",class:"form-select"},[u(o(R),null,{default:m((()=>[zt])),_:1}),u(o($),null,{default:m((()=>[Gt])),_:1}),(r(!0),s(g,null,h(o(l),(e=>(r(),s("option",{value:e.name,key:e.name},b(e.name),9,["value"])))),128))],512),[[p,o(a).to]]),u("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=e=>o(E).doTx(o(a)))},"ök!")])])]))}};function Jt(e){return parseInt(e,10)}function Qt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ht(e,t,a){var n=e.x-t.x,l=e.y-t.y,r=Math.sqrt(n*n+l*l),s=n/r,u=l/r;return{x:t.x+s*a,y:t.y+u*a}}function Zt(e,t){var a=e.shift();return"M"+a.x+" "+a.y+e.map((function(n,l){var r,s,u,o=e[l+1],c=e[l-1]||a,i=o&&(s=n,u=c,Jt((r=o).x+u.x)===Jt(2*s.x)&&Jt(r.y+u.y)===Jt(2*s.y));if(!o||i)return"L"+n.x+" "+n.y;var d=Math.min(Qt(c,n),Qt(o,n)),m=d/2<t?d/2:t,p=Ht(c,n,m),y=Ht(o,n,m);return"L"+p.x+" "+p.y+"S"+n.x+" "+n.y+" "+y.x+" "+y.y})).join("")}var ea={props:["smooth","data","boundary","radius","id","max","min","color","width","dash"],render:function(){var e,t=this,a=t.data,n=t.smooth,l=t.boundary,r=t.radius,s=t.id,u=t.max,o=t.min,c=t.width,i=t.dash,d=Zt(function(e,t,a){var n=t.minX,l=t.minY,r=t.maxX,s=t.maxY,u=a.max,o=a.min,c=e.map((function(e){return"number"==typeof e?e:e.value})),i=Math.min.apply(Math,c.concat([o]))-.001,d=(r-n)/(c.length-1),m=(s-l)/(Math.max.apply(Math,c.concat([u]))+.001-i);return c.map((function(e,t){return{x:t*d+n,y:s-(e-i)*m+1e-5*+(t===c.length-1)-1e-5*+(0===t)}}))}(a,l,{max:u,min:o}),n?r:0);return e=this.color?this.color:"url(#"+s+")",x("path",{d:d,fill:"none",stroke:e,"stroke-width":c,"stroke-dasharray":i})}},ta={props:["boundary","max","min"],render:function(){var e=this.boundary;return[x("text",{x:e.minX,y:e.minY-2,fill:"#CCCCCC88","font-size":"0.6em"},Math.floor(this.max/1e3)),x("line",{x1:e.minX,y1:e.minY,x2:e.maxX,y2:e.minY,stroke:"#CCCCCC88"}),x("text",{x:e.minX,y:e.maxY-2,fill:"#CCCCCC88","font-size":"0.6em"},Math.floor(this.min/1e3)),x("line",{x1:e.minX,y1:e.maxY,x2:e.maxX,y2:e.maxY,stroke:"#CCCCCC88"})]}},aa={props:["gradient","gradientDirection","id"],render:function(){var e=this,t=e.gradient,a=e.gradientDirection,n=e.id,l=t.length-1||1,r=t.slice().reverse().map((function(e,t){return x("stop",{offset:t/l,"stop-color":e})}));return x("defs",[x("linearGradient",{id:n,x1:+("left"===a),y1:+("top"===a),x2:+("right"===a),y2:+("bottom"===a)},r)])}},na={name:"Trend",props:{data:{type:Array,required:!0},autoDraw:Boolean,autoDrawDuration:{type:Number,default:2e3},autoDrawEasing:{type:String,default:"ease"},gradient:{type:Array,default:function(){return["#000"]}},gradientDirection:{type:String,default:"top"},max:{type:Number,default:-1/0},min:{type:Number,default:1/0},height:Number,width:Number,padding:{type:Number,default:8},radius:{type:Number,default:10},smooth:Boolean},watch:{data:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){if(!t.$isServer&&t.$refs.path&&t.autoDraw){var e=t.$refs.path.$el,a=e.getTotalLength();e.style.transition="none",e.style.strokeDasharray=a+" "+a,e.style.strokeDashoffset=Math.abs(a-(t.lastLength||0)),e.getBoundingClientRect(),e.style.transition="stroke-dashoffset "+t.autoDrawDuration+"ms "+t.autoDrawEasing,e.style.strokeDashoffset=0,t.lastLength=a}}))}}},render:function(){if(this.data&&!(this.data.length<2)){var e=this.width,t=this.height,a=this.padding,n=e||300,l=t||75,r={minX:a,minY:a,maxX:n-a,maxY:l-a};return x("svg",{width:e||"100%",height:t||"25%",viewBox:"0 0 "+n+" "+l},[x(aa,{gradient:this.gradient,gradientDirection:this.gradientDirection,id:"stats"}),x(ta,{boundary:r,max:Math.max.apply(Math,this.data.concat([this.max])),min:Math.min.apply(Math,this.data.concat([this.min]))}),x(ea,{smooth:this.smooth,data:this.data,boundary:r,radius:this.radius,max:this.max,min:this.min,id:"stats",ref:"path",width:1,dash:"0"})])}}},la={name:"Trends",props:{data:{type:Array,required:!0},colors:{type:Array,required:!0},min:{type:Number,default:1/0},height:Number,width:Number,padding:{type:Number,default:8},radius:{type:Number,default:10},smooth:Boolean},render:function(){if(this.data){var e=this.width,t=this.height,a=this.padding,n=e||300,l=t||150,r={minX:a,minY:a,maxX:n-a,maxY:l-a},s=10;for(let e=0;e<this.data.length;e++){const t=this.data[e];if(t&&t.length>1)for(let e=0;e<t.length;e++)s=Math.max(s,t[e])}var u=[];for(let e=0;e<this.data.length;e++){const t=this.data[e];t&&t.length>1&&u.push(x(ea,{smooth:this.smooth,data:t,boundary:r,radius:this.radius,max:s,min:this.min,id:"stats",ref:"path"+e,color:this.colors[e],width:0==e?1.3:1,dash:0==e?"2 2":"0"}))}if(0!=u.length)return x("svg",{width:e||"100%",height:t||"25%",viewBox:"0 0 "+n+" "+l},[x(ta,{boundary:r,max:s,min:this.min}),u])}}};const ra={style:{width:"400px"}},sa={class:"text-center"},ua=i("account"),oa=i("compte"),ca={class:"mt-3 mb-3"},ia={class:"text-center mb-6"},da={class:"dropdown"},ma={class:"btn btn-secondary btn-lg dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},pa={class:"dropdown-menu dropdown-menu-dark dropdown-menu-end","aria-labelledby":"dropdownMenuButton1"},ya={key:0},fa={class:"display-3 text-center"},ga={class:"align-baseline",style:{"font-size":"50%"}},ha=u("small",null," Ü",-1),ba={key:0,class:"display-5 text-center"},xa=i("bank"),va=i("banque"),_a={key:1,class:"display-5 text-center"},wa=i("wallet"),Ta=i("compte simple"),ka={key:2,class:"display-5 text-center"},Aa=i("Üman"),Da=i("Ümain"),Ma={class:"text-center mt-4"},Ca=i("transaction"),Sa=i("transaction"),Pa={key:3,class:"mb-4 justify-content-center"},ja={class:"input-group",style:{width:"400px"}},Oa={class:"input-group-text",for:"txMessage",style:{width:"90px"}},Fa=i(" value "),Ua=i(" valeur "),qa=u("small",{class:"input-group-text"},"Ü",-1),La={class:"input-group-text",for:"txTo"},Ia=i(" tö "),Ea=i(" à "),Na={disabled:"",value:""},Va=i("someöne"),Ya=i("qüi"),Ba={class:"input-group"},Xa={class:"input-group-text",for:"txMessage",style:{width:"90px"}},$a=i("message"),Ra=i("message"),Ka={class:"text-center mt-4"},za=i("stats"),Ga=i("stats"),Wa={class:"text-center mt-4"},Ja=i("diary"),Qa=i("journal"),Ha={class:"list-group list-group-flush",style:{"max-width":"440px"}},Za={class:"d-flex w-100 justify-content-between"},en={key:0},tn={style:{width:"80px"},class:"badge bg-light text-right"},an=u("small",null," Ü",-1),nn={style:{width:"50px"},class:"d-inline-block text-center"},ln=i(" to "),rn=i(" à "),sn={key:1},un={style:{width:"80px"},class:"badge bg-primary text-right"},on=u("small",null," Ü",-1),cn={style:{width:"50px"},class:"d-inline-block text-center"},dn=i(" from "),mn=i(" de "),pn={expose:[],setup(t){const a=e({account:null,accounts:d((()=>E.accounts.filter((e=>"bank"!=e.role)))),otherAccounts:d((()=>E.accounts.filter((e=>"bank"!=e.role&&e.name!=a.account.name)))),stats:[],transactions:[],tx:{from:"",to:"",message:"",value:1}}),n=()=>{a.account&&(a.transactions=E.getAccountTx(a.account.name,10).reverse(),a.stats=E.getAccountStats(a.account.name,"day"))};v((()=>a.account),(()=>{n()})),v((()=>E.currency),n,{deep:!0});const l=e=>E.currencyDecimal(e).slice(-2),x=e=>{if("!1Ucreation"==e)return X({en:"> u crëate Ü!",fr:"> crëation de Ü !"});if(0==e.indexOf("!revaluation%")){let t=e.split("%")[1];return X({en:"> all the Ü melt by "+t+"%!",fr:"> tous les Ü fondent de "+t+"% !"})}return e?"> "+e:""};return(e,t)=>{return r(),s("div",ra,[u("h4",sa,[u(o(R),null,{default:m((()=>[ua])),_:1}),u(o($),null,{default:m((()=>[oa])),_:1})]),u("div",ca,[u("h2",ia,[u("div",da,[u("button",ma,b(o(a).account?o(a).account.name:o(X)({en:"account",fr:"compte"})),1),u("ul",pa,[(r(!0),s(g,null,h(o(a).accounts,(e=>(r(),s("li",{value:e.name,key:e.name},[u("button",{class:"dropdown-item",type:"button",onClick:t=>o(a).account=e},b(e.name),9,["onClick"])],8,["value"])))),128))])])]),o(a).account?(r(),s("div",ya,[u("div",fa,[u("span",null,b((d=o(a).account.balance,E.currencyDecimal(d).slice(0,-3))),1),u("small",ga,"."+b(l(o(a).account.balance)),1),ha]),"bank"==o(a).account.role?(r(),s("p",ba,[u(o(R),null,{default:m((()=>[xa])),_:1}),u(o($),null,{default:m((()=>[va])),_:1})])):"wallet"==o(a).account.role?(r(),s("p",_a,[u(o(R),null,{default:m((()=>[wa])),_:1}),u(o($),null,{default:m((()=>[Ta])),_:1})])):(r(),s("p",ka,[u(o(R),null,{default:m((()=>[Aa])),_:1}),u(o($),null,{default:m((()=>[Da])),_:1})])),u("h4",Ma,[u(o(R),null,{default:m((()=>[Ca])),_:1}),u(o($),null,{default:m((()=>[Sa])),_:1})]),"bank"==o(a).account.role||o(a).account.balance>0?(r(),s("form",Pa,[u("div",null,[u("div",ja,[u("label",Oa,[u(o(R),null,{default:m((()=>[Fa])),_:1}),u(o($),null,{default:m((()=>[Ua])),_:1})]),c(u("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o(a).tx.value=e),type:"number",max:Math.round(o(a).account.balance/100),step:"any",min:"0",class:"form-control text-right"},null,8,["max"]),[[y,o(a).tx.value]]),qa,u("label",La,[u(o(R),null,{default:m((()=>[Ia])),_:1}),u(o($),null,{default:m((()=>[Ea])),_:1})]),c(u("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o(a).tx.to=e),id:"txTo",class:"form-select"},[u("option",Na,[u(o(R),null,{default:m((()=>[Va])),_:1}),u(o($),null,{default:m((()=>[Ya])),_:1})]),(r(!0),s(g,null,h(o(a).otherAccounts,(e=>(r(),s("option",{value:e.name,key:e.name},[u("strong",null,b(e.name),1)],8,["value"])))),128))],512),[[p,o(a).tx.to]]),u("button",{type:"button",class:"btn btn-primary ml-3",onClick:t[3]||(t[3]=e=>(a.tx.from=a.account.name,console.log(a.tx),E.doTx(a.tx),void n()))},"ök!")]),u("div",Ba,[u("label",Xa,[u(o(R),null,{default:m((()=>[$a])),_:1}),u(o($),null,{default:m((()=>[Ra])),_:1})]),c(u("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o(a).tx.message=e),type:"text",maxlength:"32",class:"form-control",id:"txMessage"},null,512),[[y,o(a).tx.message]])])])])):f("",!0),u("h4",Ka,[u(o(R),null,{default:m((()=>[za])),_:1}),u(o($),null,{default:m((()=>[Ga])),_:1})]),u(o(na),{data:o(a).stats,gradientDirection:"top",gradient:["#df691a","#a54f15","#65300d"],padding:10,radius:8,"stroke-width":1,"stroke-linecap":"butt",min:0,max:1e3,height:200,width:400,"auto-draw":"",smooth:""},null,8,["data"]),u("h4",Wa,[u(o(R),null,{default:m((()=>[Ja])),_:1}),u(o($),null,{default:m((()=>[Qa])),_:1})]),u("ul",Ha,[(r(!0),s(g,null,h(o(a).transactions,(e=>{return r(),s("li",{key:e.id,class:"list-group-item list-group-item-action"},[u("div",Za,[u("div",null,[e.from==o(a).account.name?(r(),s("h5",en,[u("span",tn,[i(b(o(E).currencyDecimal(e.value)),1),an]),u("span",nn,[u(o(R),null,{default:m((()=>[ln])),_:1}),u(o($),null,{default:m((()=>[rn])),_:1})]),u("strong",null,[u("span",null,b(e.to),1)])])):(r(),s("h5",sn,[u("span",un,[i(b(o(E).currencyDecimal(e.value)),1),on]),u("span",cn,[u(o(R),null,{default:m((()=>[dn])),_:1}),u(o($),null,{default:m((()=>[mn])),_:1})]),u("strong",null,[u("span",null,b(e.from),1)])])),i(" "+b(x(e.message)),1)]),u("small",null,b((t=e.day,t>=E.currency.elapsedTime?X({en:"today",fr:"aujourd'hui"}):t==E.currency.elapsedTime-1?X({en:"yesterday",fr:"hier"}):X({en:E.currency.elapsedTime-t+" days ago",fr:"il y a "+(E.currency.elapsedTime-t)+" jours"}))),1)])]);var t})),128))])])):f("",!0)])]);var d}}},yn={class:"text-center"},fn=i("accounts"),gn=i("comptes"),hn={class:"input-group"},bn={class:"input-group-text"},xn=i("name"),vn=i("nom"),_n={class:"input-group-text ml-5"},wn=i("role"),Tn=i("rôle"),kn={value:"human"},An=i("Üman"),Dn=i("Ümain"),Mn={value:"wallet"},Cn=i("wället"),Sn=i("sïmple"),Pn=i("nëw!"),jn=i("noüveau!"),On={class:"table table-hover mt-5"},Fn=i("stats"),Un=i("stats"),qn=i("name"),Ln=i("nom"),In=i("role"),En=i("rôle"),Nn=i("balance"),Vn=i("solde"),Yn=u("th",null,null,-1),Bn={class:"text-center"},Xn={key:0,class:"badge bg-primary mr-3",style:{width:"50px"}},$n=u("small",null,"Ü",-1),Rn=i("man"),Kn=u("small",null,"Ü",-1),zn=i("main"),Gn={key:1,class:"badge bg-secondary mr-3",style:{width:"50px"}},Wn=i("wället"),Jn=i("sïmple"),Qn={key:2,class:"badge bg-danger mr-3",style:{width:"50px"}},Hn=i("bänk"),Zn=i("bänque"),el=i("change"),tl=i("modifier"),al={class:"text-right"},nl=u("small",{class:"mr-3"}," Ü ",-1),ll=i("reset"),rl=i("raz"),sl={class:"text-right"},ul={expose:[],props:{colors:Array},setup(t){const{colors:a}=t,n=e({onlySelected:!1,sortKey:"name",sortOrder:1,newAccount:{name:"",role:"human"}}),l=d((()=>{let e=E.accounts.filter((e=>"bank"!=e.role));return n.onlySelected&&(e=e.filter((e=>E.isSelected(e)))),e.sort(((e,t)=>{let a=e[n.sortKey],l=t[n.sortKey];return(a===l?0:a>l?1:-1)*n.sortOrder}))})),x=e=>{e==n.sortKey&&(n.sortOrder=-n.sortOrder),n.sortKey=e},v=e=>{let t=E.selectedAccounts.indexOf(e.name);return t<0?null:a[t%a.length]};return(e,t)=>(r(),s("div",null,[u("h4",yn,[u(o(R),null,{default:m((()=>[fn])),_:1}),u(o($),null,{default:m((()=>[gn])),_:1})]),u("div",hn,[u("span",bn,[u(o(R),null,{default:m((()=>[xn])),_:1}),u(o($),null,{default:m((()=>[vn])),_:1})]),c(u("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o(n).newAccount.name=e),type:"text",class:"form-control",id:"accountName",maxlength:"10"},null,512),[[y,o(n).newAccount.name]]),u("span",_n,[u(o(R),null,{default:m((()=>[wn])),_:1}),u(o($),null,{default:m((()=>[Tn])),_:1})]),c(u("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o(n).newAccount.role=e),class:"form-control"},[u("option",kn,[u(o(R),null,{default:m((()=>[An])),_:1}),u(o($),null,{default:m((()=>[Dn])),_:1})]),u("option",Mn,[u(o(R),null,{default:m((()=>[Cn])),_:1}),u(o($),null,{default:m((()=>[Sn])),_:1})])],512),[[p,o(n).newAccount.role]]),u("button",{type:"button",disabled:3>o(n).newAccount.name.length||o(E).accounts.some((e=>e.name==o(n).newAccount.name)),class:"btn btn-primary ml-5",onClick:t[3]||(t[3]=e=>(n.newAccount.name=n.newAccount.name.trim(),void E.createAccount(n.newAccount)))},[u(o(R),null,{default:m((()=>[Pn])),_:1}),u(o($),null,{default:m((()=>[jn])),_:1})],8,["disabled"])]),u("table",On,[u("thead",null,[u("tr",null,[u("th",{onClick:t[4]||(t[4]=e=>o(n).onlySelected=!o(n).onlySelected),class:[{"bg-primary":o(n).onlySelected},"pointer"],style:{width:"20px"}},[u(o(R),null,{default:m((()=>[Fn])),_:1}),u(o($),null,{default:m((()=>[Un])),_:1})],2),u("th",{onClick:t[5]||(t[5]=e=>x("name")),class:"pointer",style:{width:"250px"}},[u(o(R),null,{default:m((()=>[qn])),_:1}),u(o($),null,{default:m((()=>[Ln])),_:1})]),u("th",{onClick:t[6]||(t[6]=e=>x("role")),class:"text-center pointer"},[u(o(R),null,{default:m((()=>[In])),_:1}),u(o($),null,{default:m((()=>[En])),_:1})]),u("th",{onClick:t[7]||(t[7]=e=>x("balance")),class:"text-right pointer"},[u(o(R),null,{default:m((()=>[Nn])),_:1}),u(o($),null,{default:m((()=>[Vn])),_:1})]),Yn])]),u("tbody",null,[(r(!0),s(g,null,h(o(l),(e=>(r(),s("tr",{key:e.name},[u("td",{style:{"background-color":v(e)},onClick:t=>o(E).select(e),class:"pointer"},null,12,["onClick"]),u("td",{onClick:t=>o(E).select(e),class:"pointer"},b(e.name),9,["onClick"]),u("td",Bn,["human"==e.role?(r(),s("span",Xn,[u(o(R),null,{default:m((()=>[$n,Rn])),_:1}),u(o($),null,{default:m((()=>[Kn,zn])),_:1})])):"wallet"==e.role?(r(),s("span",Gn,[u(o(R),null,{default:m((()=>[Wn])),_:1}),u(o($),null,{default:m((()=>[Jn])),_:1})])):(r(),s("span",Qn,[u(o(R),null,{default:m((()=>[Hn])),_:1}),u(o($),null,{default:m((()=>[Zn])),_:1})])),"bank"!=e.role?(r(),s("a",{key:3,href:"#",onClick:_((t=>(e=>{let t="human"==e.role?"wallet":"human";E.updateAccount(e,{role:t})})(e)),["stop","prevent"])},[u(o(R),null,{default:m((()=>[el])),_:1}),u(o($),null,{default:m((()=>[tl])),_:1})],8,["onClick"])):f("",!0)]),u("td",al,["bank"!=e.role?(r(),s(g,{key:0},[u("strong",null,[i(b(o(E).currencyDecimal(e.balance)),1),nl]),u("a",{href:"#",onClick:_((t=>(e=>{E.updateAccount(e,{balance:0})})(e)),["stop","prevent"])},[u(o(R),null,{default:m((()=>[ll])),_:1}),u(o($),null,{default:m((()=>[rl])),_:1})],8,["onClick"])],64)):f("",!0)]),u("td",sl,[e.name!=o(E).name?(r(),s("a",{key:0,href:"#",onClick:_((t=>(e=>{const t=e.name;confirm(X({fr:"êtes vous sûr de supprimer "+t+" ?",en:"Are you sure to delete "+t+"?"}))&&E.deleteAccount(e)})(e)),["stop","prevent"])},"x",8,["onClick"])):f("",!0)])])))),128))])])]))}},ol={class:"text-center"},cl=i("stats"),il=i("stats"),dl={class:"w-100 d-flex justify-content-between"},ml={class:"input-group w-auto ml-4"},pl=u("label",{class:"input-group-text"}," 100 ",-1),yl={value:"day"},fl=i("days"),gl=i("jours"),hl={value:"month"},bl=i("months"),xl=i("mois"),vl={value:"year"},_l=i("years"),wl=i("années"),Tl={class:"ms-auto w-auto input-group mr-4"},kl={class:"input-group-text"},Al=i("referential"),Dl=i("référentiel"),Ml={value:"relative"},Cl=i("relative"),Sl=i("relatif"),Pl={value:"quantitative"},jl=i("quantitative"),Ol=i("quantitatif"),Fl={value:"average"},Ul=i("average"),ql=i("moyenne"),Ll={expose:[],props:{colors:Array},setup(t){const{colors:n}=t,l=e({referential:"relative",statType:"day",stats:[]}),i=()=>{let e=E.getAccountStats(E.name,l.statType),t=[[]];for(let a=1;a<E.selectedAccounts.length;a++){const n=E.selectedAccounts[a];if(n){let a=E.getAccountStats(n,l.statType);if("average"==l.referential)for(let t=0;t<a.length;t++)a[t]=0==e[t].average?0:a[t]/e[t].average*1e5;else if("quantitative"==l.referential)for(let t=0;t<a.length;t++)a[t]=a[t]*e[t].quantitative;t.push(a)}}"average"==l.referential?t[0]=new Array(e.length).fill(1e5):"relative"==l.referential?t[0]=e.map((e=>e.average)):"quantitative"==l.referential&&(t[0]=e.map((e=>e.average*e.quantitative))),l.stats=t};return v((()=>E.selectedAccounts.length),i),v((()=>E.currency),i,{deep:!0}),v((()=>l.referential),i),v((()=>l.statType),i),a((()=>{i()})),(e,t)=>(r(),s("div",null,[u("h4",ol,[u(o(R),null,{default:m((()=>[cl])),_:1}),u(o($),null,{default:m((()=>[il])),_:1})]),u(o(la),{data:o(l).stats,colors:n,padding:10,radius:8,"stroke-width":1,"stroke-linecap":"butt",min:0,"auto-draw":"",smooth:""},null,8,["data"]),u("div",dl,[u("div",ml,[pl,c(u("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>o(l).statType=e)},[u("option",yl,[u(o(R),null,{default:m((()=>[fl])),_:1}),u(o($),null,{default:m((()=>[gl])),_:1})]),u("option",hl,[u(o(R),null,{default:m((()=>[bl])),_:1}),u(o($),null,{default:m((()=>[xl])),_:1})]),u("option",vl,[u(o(R),null,{default:m((()=>[_l])),_:1}),u(o($),null,{default:m((()=>[wl])),_:1})])],512),[[p,o(l).statType]])]),u("div",Tl,[u("label",kl,[u(o(R),null,{default:m((()=>[Al])),_:1}),u(o($),null,{default:m((()=>[Dl])),_:1})]),c(u("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o(l).referential=e)},[u("option",Ml,[u(o(R),null,{default:m((()=>[Cl])),_:1}),u(o($),null,{default:m((()=>[Sl])),_:1})]),u("option",Pl,[u(o(R),null,{default:m((()=>[jl])),_:1}),u(o($),null,{default:m((()=>[Ol])),_:1})]),u("option",Fl,[u(o(R),null,{default:m((()=>[Ul])),_:1}),u(o($),null,{default:m((()=>[ql])),_:1})])],512),[[p,o(l).referential]])])])]))}},Il=u("h1",{class:"display-1 text-center mb-5"},[u("img",{src:"/favicon64x64.png"}),u("span",{class:"align-middle"},[i(" f"),u("small",null,"Ü"),i("ne")])],-1),El={class:"lead text-center mb-3"},Nl=u("strong",null,[i("f"),u("small",null,"Ü"),i("ne")],-1),Vl=i(" is a web app to test and play with a simple "),Yl=u("a",{href:"https://libre-currency.org"},"Libre Currency",-1),Bl=i(" called "),Xl=u("strong",null,[i("f"),u("small",null,"Ü"),i("ne")],-1),$l=i(" (pronounced /fən/ like fun) "),Rl=u("strong",null,[i("f"),u("small",null,"Ü"),i("ne")],-1),Kl=i(" est une appli web qui permet de jouer avec une simple "),zl=u("a",{href:"https://monnaie-libre.fr/"},"Monnaie Libre",-1),Gl=i(" appelée "),Wl=u("strong",null,[i("f"),u("small",null,"Ü"),i("ne")],-1),Jl=i(" (prononcée /fən/ comme fun en anglais) "),Ql={class:"lead text-center mb-5"},Hl=i(" a "),Zl=u("small",null,"Ü",-1),er=i("man account create some new "),tr=u("small",null,"Ü",-1),ar=i(" (the "),nr=u("small",null,"Ü",-1),lr=i("nit of the f"),rr=u("small",null,"Ü",-1),sr=i("ne currency) each day"),ur=u("br",null,null,-1),or=u("small",null,[i("old created "),u("strong",null,[u("small",null,"Ü"),i("nits")]),i(" melt by a given percentage each "),u("strong",null,"revaluation period")],-1),cr=u("br",null,null,-1),ir=i(" un compte "),dr=u("small",null,"Ü",-1),mr=i("main crée de nouvelles "),pr=u("small",null,"Ü",-1),yr=i(" (l'"),fr=u("small",null,"Ü",-1),gr=i("nité de la monnaie f"),hr=u("small",null,"Ü",-1),br=i("ne) chaque jour"),xr=u("br",null,null,-1),vr=u("small",null,[i("les anciennes "),u("strong",null,[u("small",null,"Ü"),i("nités")]),i(" fondent d'un certain pourcentage à chaque "),u("strong",null,"période de réévaluation")],-1),_r=u("br",null,null,-1),wr={class:"d-flex align-items-start flex-wrap mb-3",style:{"justify-content":"space-evenly"}},Tr={style:{"min-width":"500px"}},kr={style:{"min-width":"700px"}};let Ar=JSON.parse(localStorage.getItem("state"));window.location.hash&&(Ar||(Ar={currency:{}}),Object.assign(Ar.currency,(e=>{const t=new URLSearchParams(e);return{mode:"grew"==t.get("m")?"grew":"melt",expression:t.get("e"),uPerDay:parseInt(t.get("upd")),revaluationTime:parseInt(t.get("rt")),stepTime:parseInt(t.get("st"))}})(window.location.hash.substring(1)))),E.restoreState(Ar);w({expose:[],setup(e){v((()=>E.currency),(()=>{window.location.hash="#"+(e=>{const t=new URLSearchParams;return t.append("e",e.expression),t.append("m",e.mode),t.append("upd",e.uPerDay),t.append("rt",e.revaluationTime),t.append("st",e.stepTime),t.toString()})(E.currency),localStorage.setItem("state",JSON.stringify(E.getState()))}));const t=["#FFFFFFDD","#FE4365DD","#F9CDADDD","#83AF9BDD","#A7226EDD","#F26B38DD","#F7DB4FDD","#CAFDE0DD","#FFB8EADD","#C3421ADD","#4F6ABFDD"],a=[];return E.accounts.length<=1&&(a.push({name:"Alice",balance:1e4,role:"human"}),a.push({name:"Bob",balance:2e4,role:"human"}),a.push({name:"Carole",balance:0,role:"human"})),(e,n)=>(r(),s("div",null,[Il,u("p",El,[u(o(R),null,{default:m((()=>[Nl,Vl,Yl,Bl,Xl,$l])),_:1}),u(o($),null,{default:m((()=>[Rl,Kl,zl,Gl,Wl,Jl])),_:1})]),u("p",Ql,[u(o(R),null,{default:m((()=>[Hl,Zl,er,tr,ar,nr,lr,rr,sr,ur,or,cr])),_:1}),u(o($),null,{default:m((()=>[ir,dr,mr,pr,yr,fr,gr,hr,br,xr,vr,_r])),_:1})]),u(V,{accounts:a,selectedAccounts:a},{default:m((()=>[u(te,{class:"m-auto"}),u("div",wr,[u("div",Tr,[u(qt,{style:{width:"400px"}}),u(Wt,{class:"mt-5",style:{width:"400px"}}),u(pn,{class:"mt-5"})]),u("div",kr,[u(Ll,{colors:t,class:"w-auto"}),u(ul,{colors:t,class:"mt-5"})])])])),_:1})]))}}).directive("longclick",((e,t)=>{if("function"!=typeof t.value){let e=`[longclick:] provided expression '${t.expression}' is not a function, but has to be`;console.warn(e)}let a=null,n=null;const l=e=>{"click"===e.type&&0!==e.button||null===a&&(s(),a=setTimeout((()=>{n=setInterval((()=>{s()}),50),s()}),200))},r=()=>{null!==a&&(clearTimeout(a),a=null),n&&(clearInterval(n),n=null)},s=e=>{t.value(e)};["mousedown","touchstart"].forEach((t=>e.addEventListener(t,l))),["click","mouseout","touchend","touchcancel"].forEach((t=>e.addEventListener(t,r)))})).mount("#app");
